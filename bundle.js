/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={34:(e,t,n)=>{var r=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},81:(e,t,n)=>{var r=n(9565),o=n(9306),a=n(8551),i=n(6823),c=n(851),s=TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(o(n))return a(r(n,e));throw new s(i(e)+" is not iterable")}},113:(e,t,n)=>{var r=n(6518),o=n(9213).find,a=n(6469),i="find",c=!0;i in[]&&Array(1)[i](function(){c=!1}),r({target:"Array",proto:!0,forced:c},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(i)},235:(e,t,n)=>{var r=n(9213).forEach,o=n(4598)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},280:(e,t,n)=>{var r=n(6518),o=n(7751),a=n(6395),i=n(550),c=n(916).CONSTRUCTOR,s=n(3438),l=o("Promise"),u=a&&!c;r({target:"Promise",stat:!0,forced:a||c},{resolve:function(e){return s(u&&this===l?i:this,e)}})},283:(e,t,n)=>{var r=n(9504),o=n(9039),a=n(4901),i=n(9297),c=n(3724),s=n(350).CONFIGURABLE,l=n(3706),u=n(1181),d=u.enforce,f=u.get,p=String,m=Object.defineProperty,h=r("".slice),v=r("".replace),g=r([].join),y=c&&!o(function(){return 8!==m(function(){},"length",{value:8}).length}),b=String(String).split("String"),x=e.exports=function(e,t,n){"Symbol("===h(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||s&&e.name!==t)&&(c?m(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&i(n,"arity")&&e.length!==n.arity&&m(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?c&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return i(r,"source")||(r.source=g(b,"string"==typeof t?t:"")),e};Function.prototype.toString=x(function(){return a(this)&&f(this).source||l(this)},"toString")},287:(e,t,n)=>{n(6518)({target:"Object",stat:!0},{setPrototypeOf:n(2967)})},298:(e,t,n)=>{var r=n(2195),o=n(5397),a=n(8480).f,i=n(7680),c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return c&&"Window"===r(e)?function(e){try{return a(e)}catch(e){return i(c)}}(e):a(o(e))}},350:(e,t,n)=>{var r=n(3724),o=n(9297),a=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,c=o(a,"name"),s=c&&"something"===function(){}.name,l=c&&(!r||r&&i(a,"name").configurable);e.exports={EXISTS:c,PROPER:s,CONFIGURABLE:l}},397:(e,t,n)=>{var r=n(7751);e.exports=r("document","documentElement")},421:e=>{e.exports={}},436:(e,t,n)=>{var r,o,a,i,c=n(6518),s=n(6395),l=n(6193),u=n(4576),d=n(9167),f=n(9565),p=n(6840),m=n(2967),h=n(687),v=n(7633),g=n(9306),y=n(4901),b=n(34),x=n(679),w=n(2293),k=n(9225).set,E=n(1955),I=n(3138),_=n(1103),S=n(8265),C=n(1181),B=n(550),L=n(916),O=n(6043),j="Promise",T=L.CONSTRUCTOR,A=L.REJECTION_EVENT,P=L.SUBCLASSING,R=C.getterFor(j),N=C.set,M=B&&B.prototype,q=B,H=M,F=u.TypeError,U=u.document,D=u.process,J=O.f,z=J,W=!!(U&&U.createEvent&&u.dispatchEvent),G="unhandledrejection",V=function(e){var t;return!(!b(e)||!y(t=e.then))&&t},$=function(e,t){var n,r,o,a=t.value,i=1===t.state,c=i?e.ok:e.fail,s=e.resolve,l=e.reject,u=e.domain;try{c?(i||(2===t.rejection&&X(t),t.rejection=1),!0===c?n=a:(u&&u.enter(),n=c(a),u&&(u.exit(),o=!0)),n===e.promise?l(new F("Promise-chain cycle")):(r=V(n))?f(r,n,s,l):s(n)):l(a)}catch(e){u&&!o&&u.exit(),l(e)}},Z=function(e,t){e.notified||(e.notified=!0,E(function(){for(var n,r=e.reactions;n=r.get();)$(n,e);e.notified=!1,t&&!e.rejection&&Q(e)}))},Y=function(e,t,n){var r,o;W?((r=U.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!A&&(o=u["on"+e])?o(r):e===G&&I("Unhandled promise rejection",n)},Q=function(e){f(k,u,function(){var t,n=e.facade,r=e.value;if(K(e)&&(t=_(function(){l?D.emit("unhandledRejection",r,n):Y(G,n,r)}),e.rejection=l||K(e)?2:1,t.error))throw t.value})},K=function(e){return 1!==e.rejection&&!e.parent},X=function(e){f(k,u,function(){var t=e.facade;l?D.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)})},ee=function(e,t,n){return function(r){e(t,r,n)}},te=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Z(e,!0))},ne=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new F("Promise can't be resolved itself");var r=V(t);r?E(function(){var n={done:!1};try{f(r,t,ee(ne,n,e),ee(te,n,e))}catch(t){te(n,t,e)}}):(e.value=t,e.state=1,Z(e,!1))}catch(t){te({done:!1},t,e)}}};if(T&&(H=(q=function(e){x(this,H),g(e),f(r,this);var t=R(this);try{e(ee(ne,t),ee(te,t))}catch(e){te(t,e)}}).prototype,(r=function(e){N(this,{type:j,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:null})}).prototype=p(H,"then",function(e,t){var n=R(this),r=J(w(this,q));return n.parent=!0,r.ok=!y(e)||e,r.fail=y(t)&&t,r.domain=l?D.domain:void 0,0===n.state?n.reactions.add(r):E(function(){$(r,n)}),r.promise}),o=function(){var e=new r,t=R(e);this.promise=e,this.resolve=ee(ne,t),this.reject=ee(te,t)},O.f=J=function(e){return e===q||e===a?new o(e):z(e)},!s&&y(B)&&M!==Object.prototype)){i=M.then,P||p(M,"then",function(e,t){var n=this;return new q(function(e,t){f(i,n,e,t)}).then(e,t)},{unsafe:!0});try{delete M.constructor}catch(e){}m&&m(M,H)}c({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:q}),a=d.Promise,h(q,j,!1,!0),v(j)},511:(e,t,n)=>{var r=n(9167),o=n(9297),a=n(1951),i=n(4913).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||i(t,e,{value:a.f(e)})}},537:(e,t,n)=>{var r=n(550),o=n(4428),a=n(916).CONSTRUCTOR;e.exports=a||!o(function(e){r.all(e).then(void 0,function(){})})},550:(e,t,n)=>{var r=n(4576);e.exports=r.Promise},597:(e,t,n)=>{var r=n(9039),o=n(8227),a=n(9519),i=o("species");e.exports=function(e){return a>=51||!r(function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},616:(e,t,n)=>{var r=n(9039);e.exports=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},655:(e,t,n)=>{var r=n(6955),o=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},679:(e,t,n)=>{var r=n(1625),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new o("Incorrect invocation")}},687:(e,t,n)=>{var r=n(4913).f,o=n(9297),a=n(8227)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,a)&&r(e,a,{configurable:!0,value:t})}},706:(e,t,n)=>{var r=n(350).PROPER,o=n(9039),a=n(7452);e.exports=function(e){return o(function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||r&&a[e].name!==e})}},741:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},744:(e,t,n)=>{var r=n(9565),o=n(9504),a=n(9228),i=n(8551),c=n(34),s=n(7750),l=n(2293),u=n(7829),d=n(8014),f=n(655),p=n(5966),m=n(6682),h=n(8429),v=n(9039),g=h.UNSUPPORTED_Y,y=Math.min,b=o([].push),x=o("".slice),w=!v(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),k="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;a("split",function(e,t,n){var o="0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t;return[function(t,n){var a=s(this),i=c(t)?p(t,e):void 0;return i?r(i,t,a,n):r(o,f(a),t,n)},function(e,r){var a=i(this),c=f(e);if(!k){var s=n(o,a,c,r,o!==t);if(s.done)return s.value}var p=l(a,RegExp),h=a.unicode,v=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(g?"g":"y"),w=new p(g?"^(?:"+a.source+")":a,v),E=void 0===r?4294967295:r>>>0;if(0===E)return[];if(0===c.length)return null===m(w,c)?[c]:[];for(var I=0,_=0,S=[];_<c.length;){w.lastIndex=g?0:_;var C,B=m(w,g?x(c,_):c);if(null===B||(C=y(d(w.lastIndex+(g?_:0)),c.length))===I)_=u(c,_,h);else{if(b(S,x(c,I,_)),S.length===E)return S;for(var L=1;L<=B.length-1;L++)if(b(S,B[L]),S.length===E)return S;_=I=C}}return b(S,x(c,I)),S}]},k||!w,g)},757:(e,t,n)=>{var r=n(7751),o=n(4901),a=n(1625),i=n(7040),c=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&a(t.prototype,c(e))}},788:(e,t,n)=>{var r=n(34),o=n(2195),a=n(8227)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"===o(e))}},851:(e,t,n)=>{var r=n(6955),o=n(5966),a=n(4117),i=n(6269),c=n(8227)("iterator");e.exports=function(e){if(!a(e))return o(e,c)||o(e,"@@iterator")||i[r(e)]}},875:(e,t,n)=>{var r=n(6518),o=n(9039),a=n(8981),i=n(2787),c=n(2211);r({target:"Object",stat:!0,forced:o(function(){i(1)}),sham:!c},{getPrototypeOf:function(e){return i(a(e))}})},916:(e,t,n)=>{var r=n(4576),o=n(550),a=n(4901),i=n(2796),c=n(3706),s=n(8227),l=n(4215),u=n(6395),d=n(9519),f=o&&o.prototype,p=s("species"),m=!1,h=a(r.PromiseRejectionEvent),v=i("Promise",function(){var e=c(o),t=e!==String(o);if(!t&&66===d)return!0;if(u&&(!f.catch||!f.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new o(function(e){e(1)}),r=function(e){e(function(){},function(){})};if((n.constructor={})[p]=r,!(m=n.then(function(){})instanceof r))return!0}return!(t||"BROWSER"!==l&&"DENO"!==l||h)});e.exports={CONSTRUCTOR:v,REJECTION_EVENT:h,SUBCLASSING:m}},1034:(e,t,n)=>{var r=n(9565),o=n(9297),a=n(1625),i=n(5213),c=n(7979),s=RegExp.prototype;e.exports=i.correct?function(e){return e.flags}:function(e){return i.correct||!a(s,e)||o(e,"flags")?e.flags:r(c,e)}},1072:(e,t,n)=>{var r=n(1828),o=n(8727);e.exports=Object.keys||function(e){return r(e,o)}},1088:(e,t,n)=>{var r=n(6518),o=n(9565),a=n(6395),i=n(350),c=n(4901),s=n(3994),l=n(2787),u=n(2967),d=n(687),f=n(6699),p=n(6840),m=n(8227),h=n(6269),v=n(7657),g=i.PROPER,y=i.CONFIGURABLE,b=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,w=m("iterator"),k="keys",E="values",I="entries",_=function(){return this};e.exports=function(e,t,n,i,m,v,S){s(n,t,i);var C,B,L,O=function(e){if(e===m&&R)return R;if(!x&&e&&e in A)return A[e];switch(e){case k:case E:case I:return function(){return new n(this,e)}}return function(){return new n(this)}},j=t+" Iterator",T=!1,A=e.prototype,P=A[w]||A["@@iterator"]||m&&A[m],R=!x&&P||O(m),N="Array"===t&&A.entries||P;if(N&&(C=l(N.call(new e)))!==Object.prototype&&C.next&&(a||l(C)===b||(u?u(C,b):c(C[w])||p(C,w,_)),d(C,j,!0,!0),a&&(h[j]=_)),g&&m===E&&P&&P.name!==E&&(!a&&y?f(A,"name",E):(T=!0,R=function(){return o(P,this)})),m)if(B={values:O(E),keys:v?R:O(k),entries:O(I)},S)for(L in B)(x||T||!(L in A))&&p(A,L,B[L]);else r({target:t,proto:!0,forced:x||T},B);return a&&!S||A[w]===R||p(A,w,R,{name:m}),h[t]=R,B}},1103:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},1181:(e,t,n)=>{var r,o,a,i=n(8622),c=n(4576),s=n(34),l=n(6699),u=n(9297),d=n(7629),f=n(6119),p=n(421),m="Object already initialized",h=c.TypeError,v=c.WeakMap;if(i||d.state){var g=d.state||(d.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw new h(m);return t.facade=e,g.set(e,t),t},o=function(e){return g.get(e)||{}},a=function(e){return g.has(e)}}else{var y=f("state");p[y]=!0,r=function(e,t){if(u(e,y))throw new h(m);return t.facade=e,l(e,y,t),t},o=function(e){return u(e,y)?e[y]:{}},a=function(e){return u(e,y)}}e.exports={set:r,get:o,has:a,enforce:function(e){return a(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw new h("Incompatible receiver, "+e+" required");return n}}}},1291:(e,t,n)=>{var r=n(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},1296:(e,t,n)=>{var r=n(4495);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},1392:(e,t,n)=>{var r,o=n(6518),a=n(7476),i=n(7347).f,c=n(8014),s=n(655),l=n(2892),u=n(7750),d=n(1436),f=n(6395),p=a("".slice),m=Math.min,h=d("startsWith");o({target:"String",proto:!0,forced:!(!f&&!h&&(r=i(String.prototype,"startsWith"),r&&!r.writable)||h)},{startsWith:function(e){var t=s(u(this));l(e);var n=c(m(arguments.length>1?arguments[1]:void 0,t.length)),r=s(e);return p(t,n,n+r.length)===r}})},1415:(e,t,n)=>{n(2405)},1436:(e,t,n)=>{var r=n(8227)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},1469:(e,t,n)=>{var r=n(7433);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},1481:(e,t,n)=>{var r=n(6518),o=n(6043);r({target:"Promise",stat:!0,forced:n(916).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return(0,t.reject)(e),t.promise}})},1510:(e,t,n)=>{var r=n(6518),o=n(7751),a=n(9297),i=n(655),c=n(5745),s=n(1296),l=c("string-to-symbol-registry"),u=c("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=i(e);if(a(l,t))return l[t];var n=o("Symbol")(t);return l[t]=n,u[n]=t,n}})},1625:(e,t,n)=>{var r=n(9504);e.exports=r({}.isPrototypeOf)},1699:(e,t,n)=>{var r=n(6518),o=n(9504),a=n(2892),i=n(7750),c=n(655),s=n(1436),l=o("".indexOf);r({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~l(c(i(this)),c(a(e)),arguments.length>1?arguments[1]:void 0)}})},1761:(e,t,n)=>{var r=n(9565),o=n(9504),a=n(9228),i=n(8551),c=n(34),s=n(8014),l=n(655),u=n(7750),d=n(5966),f=n(7829),p=n(1034),m=n(6682),h=o("".indexOf);a("match",function(e,t,n){return[function(t){var n=u(this),o=c(t)?d(t,e):void 0;return o?r(o,t,n):new RegExp(t)[e](l(n))},function(e){var r=i(this),o=l(e),a=n(t,r,o);if(a.done)return a.value;var c=l(p(r));if(-1===h(c,"g"))return m(r,o);var u=-1!==h(c,"u");r.lastIndex=0;for(var d,v=[],g=0;null!==(d=m(r,o));){var y=l(d[0]);v[g]=y,""===y&&(r.lastIndex=f(o,s(r.lastIndex),u)),g++}return 0===g?null:v}]})},1828:(e,t,n)=>{var r=n(9504),o=n(9297),a=n(5397),i=n(9617).indexOf,c=n(421),s=r([].push);e.exports=function(e,t){var n,r=a(e),l=0,u=[];for(n in r)!o(c,n)&&o(r,n)&&s(u,n);for(;t.length>l;)o(r,n=t[l++])&&(~i(u,n)||s(u,n));return u}},1951:(e,t,n)=>{var r=n(8227);t.f=r},1955:(e,t,n)=>{var r,o,a,i,c,s=n(4576),l=n(3389),u=n(6080),d=n(9225).set,f=n(8265),p=n(9544),m=n(4265),h=n(7860),v=n(6193),g=s.MutationObserver||s.WebKitMutationObserver,y=s.document,b=s.process,x=s.Promise,w=l("queueMicrotask");if(!w){var k=new f,E=function(){var e,t;for(v&&(e=b.domain)&&e.exit();t=k.get();)try{t()}catch(e){throw k.head&&r(),e}e&&e.enter()};p||v||h||!g||!y?!m&&x&&x.resolve?((i=x.resolve(void 0)).constructor=x,c=u(i.then,i),r=function(){c(E)}):v?r=function(){b.nextTick(E)}:(d=u(d,s),r=function(){d(E)}):(o=!0,a=y.createTextNode(""),new g(E).observe(a,{characterData:!0}),r=function(){a.data=o=!o}),w=function(e){k.head||r(),k.add(e)}}e.exports=w},2003:(e,t,n)=>{var r=n(6518),o=n(6395),a=n(916).CONSTRUCTOR,i=n(550),c=n(7751),s=n(4901),l=n(6840),u=i&&i.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&s(i)){var d=c("Promise").prototype.catch;u.catch!==d&&l(u,"catch",d,{unsafe:!0})}},2008:(e,t,n)=>{var r=n(6518),o=n(9213).filter;r({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},2062:(e,t,n)=>{var r=n(6518),o=n(9213).map;r({target:"Array",proto:!0,forced:!n(597)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},2106:(e,t,n)=>{var r=n(283),o=n(4913);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},2140:(e,t,n)=>{var r={};r[n(8227)("toStringTag")]="z",e.exports="[object z]"===String(r)},2195:(e,t,n)=>{var r=n(9504),o=r({}.toString),a=r("".slice);e.exports=function(e){return a(o(e),8,-1)}},2211:(e,t,n)=>{var r=n(9039);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},2259:(e,t,n)=>{n(511)("iterator")},2293:(e,t,n)=>{var r=n(8551),o=n(5548),a=n(4117),i=n(8227)("species");e.exports=function(e,t){var n,c=r(e).constructor;return void 0===c||a(n=r(c)[i])?t:o(n)}},2357:(e,t,n)=>{var r=n(3724),o=n(9039),a=n(9504),i=n(2787),c=n(1072),s=n(5397),l=a(n(8773).f),u=a([].push),d=r&&o(function(){var e=Object.create(null);return e[2]=2,!l(e,2)}),f=function(e){return function(t){for(var n,o=s(t),a=c(o),f=d&&null===i(o),p=a.length,m=0,h=[];p>m;)n=a[m++],r&&!(f?n in o:l(o,n))||u(h,e?[n,o[n]]:o[n]);return h}};e.exports={entries:f(!0),values:f(!1)}},2360:(e,t,n)=>{var r,o=n(8551),a=n(6801),i=n(8727),c=n(421),s=n(397),l=n(4055),u=n(6119),d="prototype",f="script",p=u("IE_PROTO"),m=function(){},h=function(e){return"<"+f+">"+e+"</"+f+">"},v=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;g="undefined"!=typeof document?document.domain&&r?v(r):(t=l("iframe"),n="java"+f+":",t.style.display="none",s.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):v(r);for(var o=i.length;o--;)delete g[d][i[o]];return g()};c[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[d]=o(e),n=new m,m[d]=null,n[p]=e):n=g(),void 0===t?n:a.f(n,t)}},2405:(e,t,n)=>{n(6468)("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n(6938))},2478:(e,t,n)=>{var r=n(9504),o=n(8981),a=Math.floor,i=r("".charAt),c=r("".replace),s=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var p=n+e.length,m=r.length,h=u;return void 0!==d&&(d=o(d),h=l),c(f,h,function(o,c){var l;switch(i(c,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,n);case"'":return s(t,p);case"<":l=d[s(c,1,-1)];break;default:var u=+c;if(0===u)return o;if(u>m){var f=a(u/10);return 0===f?o:f<=m?void 0===r[f-1]?i(c,1):r[f-1]+i(c,1):o}l=r[u-1]}return void 0===l?"":l})}},2529:e=>{e.exports=function(e,t){return{value:e,done:t}}},2652:(e,t,n)=>{var r=n(6080),o=n(9565),a=n(8551),i=n(6823),c=n(4209),s=n(6198),l=n(1625),u=n(81),d=n(851),f=n(9539),p=TypeError,m=function(e,t){this.stopped=e,this.result=t},h=m.prototype;e.exports=function(e,t,n){var v,g,y,b,x,w,k,E=n&&n.that,I=!(!n||!n.AS_ENTRIES),_=!(!n||!n.IS_RECORD),S=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),B=r(t,E),L=function(e){return v&&f(v,"normal"),new m(!0,e)},O=function(e){return I?(a(e),C?B(e[0],e[1],L):B(e[0],e[1])):C?B(e,L):B(e)};if(_)v=e.iterator;else if(S)v=e;else{if(!(g=d(e)))throw new p(i(e)+" is not iterable");if(c(g)){for(y=0,b=s(e);b>y;y++)if((x=O(e[y]))&&l(h,x))return x;return new m(!1)}v=u(e,g)}for(w=_?e.next:v.next;!(k=o(w,v)).done;){try{x=O(k.value)}catch(e){f(v,"throw",e)}if("object"==typeof x&&x&&l(h,x))return x}return new m(!1)}},2675:(e,t,n)=>{n(6761),n(1510),n(7812),n(3110),n(9773)},2703:(e,t,n)=>{var r=n(4576),o=n(9039),a=n(9504),i=n(655),c=n(3802).trim,s=n(7452),l=r.parseInt,u=r.Symbol,d=u&&u.iterator,f=/^[+-]?0x/i,p=a(f.exec),m=8!==l(s+"08")||22!==l(s+"0x16")||d&&!o(function(){l(Object(d))});e.exports=m?function(e,t){var n=c(i(e));return l(n,t>>>0||(p(f,n)?16:10))}:l},2744:(e,t,n)=>{var r=n(9039);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},2762:(e,t,n)=>{var r=n(6518),o=n(3802).trim;r({target:"String",proto:!0,forced:n(706)("trim")},{trim:function(){return o(this)}})},2777:(e,t,n)=>{var r=n(9565),o=n(34),a=n(757),i=n(5966),c=n(4270),s=n(8227),l=TypeError,u=s("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,s=i(e,u);if(s){if(void 0===t&&(t="default"),n=r(s,e,t),!o(n)||a(n))return n;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},2787:(e,t,n)=>{var r=n(9297),o=n(4901),a=n(8981),i=n(6119),c=n(2211),s=i("IE_PROTO"),l=Object,u=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=a(e);if(r(t,s))return t[s];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},2796:(e,t,n)=>{var r=n(9039),o=n(4901),a=/#|\.prototype\./,i=function(e,t){var n=s[c(e)];return n===u||n!==l&&(o(t)?r(t):!!t)},c=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},2812:e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},2839:(e,t,n)=>{var r=n(4576).navigator,o=r&&r.userAgent;e.exports=o?String(o):""},2892:(e,t,n)=>{var r=n(788),o=TypeError;e.exports=function(e){if(r(e))throw new o("The method doesn't accept regular expressions");return e}},2953:(e,t,n)=>{var r=n(4576),o=n(7400),a=n(9296),i=n(3792),c=n(6699),s=n(687),l=n(8227)("iterator"),u=i.values,d=function(e,t){if(e){if(e[l]!==u)try{c(e,l,u)}catch(t){e[l]=u}if(s(e,t,!0),o[t])for(var n in i)if(e[n]!==i[n])try{c(e,n,i[n])}catch(t){e[n]=i[n]}}};for(var f in o)d(r[f]&&r[f].prototype,f);d(a,"DOMTokenList")},2967:(e,t,n)=>{var r=n(6706),o=n(34),a=n(7750),i=n(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return a(n),i(r),o(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},3110:(e,t,n)=>{var r=n(6518),o=n(7751),a=n(8745),i=n(9565),c=n(9504),s=n(9039),l=n(4901),u=n(757),d=n(7680),f=n(6933),p=n(4495),m=String,h=o("JSON","stringify"),v=c(/./.exec),g=c("".charAt),y=c("".charCodeAt),b=c("".replace),x=c(1.1.toString),w=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,I=!p||s(function(){var e=o("Symbol")("stringify detection");return"[null]"!==h([e])||"{}"!==h({a:e})||"{}"!==h(Object(e))}),_=s(function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")}),S=function(e,t){var n=d(arguments),r=f(t);if(l(r)||void 0!==e&&!u(e))return n[1]=function(e,t){if(l(r)&&(t=i(r,this,m(e),t)),!u(t))return t},a(h,null,n)},C=function(e,t,n){var r=g(n,t-1),o=g(n,t+1);return v(k,e)&&!v(E,o)||v(E,e)&&!v(k,r)?"\\u"+x(y(e,0),16):e};h&&r({target:"JSON",stat:!0,arity:3,forced:I||_},{stringify:function(e,t,n){var r=d(arguments),o=a(I?S:h,null,r);return _&&"string"==typeof o?b(o,w,C):o}})},3138:e=>{e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},3167:(e,t,n)=>{var r=n(4901),o=n(34),a=n(2967);e.exports=function(e,t,n){var i,c;return a&&r(i=t.constructor)&&i!==n&&o(c=i.prototype)&&c!==n.prototype&&a(e,c),e}},3179:(e,t,n)=>{var r=n(2140),o=n(6955);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},3296:(e,t,n)=>{n(5806)},3362:(e,t,n)=>{n(436),n(6499),n(2003),n(7743),n(1481),n(280)},3389:(e,t,n)=>{var r=n(4576),o=n(3724),a=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!o)return r[e];var t=a(r,e);return t&&t.value}},3392:(e,t,n)=>{var r=n(9504),o=0,a=Math.random(),i=r(1.1.toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},3418:(e,t,n)=>{var r=n(6518),o=n(7916);r({target:"Array",stat:!0,forced:!n(4428)(function(e){Array.from(e)})},{from:o})},3438:(e,t,n)=>{var r=n(8551),o=n(34),a=n(6043);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},3451:(e,t,n)=>{var r=n(6518),o=n(9504),a=n(421),i=n(34),c=n(9297),s=n(4913).f,l=n(8480),u=n(298),d=n(4124),f=n(3392),p=n(2744),m=!1,h=f("meta"),v=0,g=function(e){s(e,h,{value:{objectID:"O"+v++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},m=!0;var e=l.f,t=o([].splice),n={};n[h]=1,e(n).length&&(l.f=function(n){for(var r=e(n),o=0,a=r.length;o<a;o++)if(r[o]===h){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!c(e,h)){if(!d(e))return"F";if(!t)return"E";g(e)}return e[h].objectID},getWeakData:function(e,t){if(!c(e,h)){if(!d(e))return!0;if(!t)return!1;g(e)}return e[h].weakData},onFreeze:function(e){return p&&m&&d(e)&&!c(e,h)&&g(e),e}};a[h]=!0},3470:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},3500:(e,t,n)=>{var r=n(4576),o=n(7400),a=n(9296),i=n(235),c=n(6699),s=function(e){if(e&&e.forEach!==i)try{c(e,"forEach",i)}catch(t){e.forEach=i}};for(var l in o)o[l]&&s(r[l]&&r[l].prototype);s(a)},3506:(e,t,n)=>{var r=n(3925),o=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a("Can't set "+o(e)+" as a prototype")}},3517:(e,t,n)=>{var r=n(9504),o=n(9039),a=n(4901),i=n(6955),c=n(7751),s=n(3706),l=function(){},u=c("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.test(l),m=function(e){if(!a(e))return!1;try{return u(l,[],e),!0}catch(e){return!1}},h=function(e){if(!a(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,s(e))}catch(e){return!0}};h.sham=!0,e.exports=!u||o(function(){var e;return m(m.call)||!m(Object)||!m(function(){e=!0})||e})?h:m},3635:(e,t,n)=>{var r=n(9039),o=n(4576).RegExp;e.exports=r(function(){var e=o(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)})},3706:(e,t,n)=>{var r=n(9504),o=n(4901),a=n(7629),i=r(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return i(e)}),e.exports=a.inspectSource},3717:(e,t)=>{t.f=Object.getOwnPropertySymbols},3724:(e,t,n)=>{var r=n(9039);e.exports=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3771:(e,t,n)=>{var r=n(6518),o=n(4373),a=n(6469);r({target:"Array",proto:!0},{fill:o}),a("fill")},3792:(e,t,n)=>{var r=n(5397),o=n(6469),a=n(6269),i=n(1181),c=n(4913).f,s=n(1088),l=n(2529),u=n(6395),d=n(3724),f="Array Iterator",p=i.set,m=i.getterFor(f);e.exports=s(Array,"Array",function(e,t){p(this,{type:f,target:r(e),index:0,kind:t})},function(){var e=m(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,l(void 0,!0);switch(e.kind){case"keys":return l(n,!1);case"values":return l(t[n],!1)}return l([n,t[n]],!1)},"values");var h=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!u&&d&&"values"!==h.name)try{c(h,"name",{value:"values"})}catch(e){}},3802:(e,t,n)=>{var r=n(9504),o=n(7750),a=n(655),i=n(7452),c=r("".replace),s=RegExp("^["+i+"]+"),l=RegExp("(^|[^"+i+"])["+i+"]+$"),u=function(e){return function(t){var n=a(o(t));return 1&e&&(n=c(n,s,"")),2&e&&(n=c(n,l,"$1")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},3904:(e,t,n)=>{var r=n(4576),o=n(9039),a=n(9504),i=n(655),c=n(3802).trim,s=n(7452),l=a("".charAt),u=r.parseFloat,d=r.Symbol,f=d&&d.iterator,p=1/u(s+"-0")!=-1/0||f&&!o(function(){u(Object(f))});e.exports=p?function(e){var t=c(i(e)),n=u(t);return 0===n&&"-"===l(t,0)?-0:n}:u},3925:(e,t,n)=>{var r=n(34);e.exports=function(e){return r(e)||null===e}},3994:(e,t,n)=>{var r=n(7657).IteratorPrototype,o=n(2360),a=n(6980),i=n(687),c=n(6269),s=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=o(r,{next:a(+!l,n)}),i(e,u,!1,!0),c[u]=s,e}},4055:(e,t,n)=>{var r=n(4576),o=n(34),a=r.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},4117:e=>{e.exports=function(e){return null==e}},4124:(e,t,n)=>{var r=n(9039),o=n(34),a=n(2195),i=n(5652),c=Object.isExtensible,s=r(function(){c(1)});e.exports=s||i?function(e){return!!o(e)&&(!i||"ArrayBuffer"!==a(e))&&(!c||c(e))}:c},4185:(e,t,n)=>{var r=n(6518),o=n(3724),a=n(4913).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!o},{defineProperty:a})},4209:(e,t,n)=>{var r=n(8227),o=n(6269),a=r("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[a]===e)}},4213:(e,t,n)=>{var r=n(3724),o=n(9504),a=n(9565),i=n(9039),c=n(1072),s=n(3717),l=n(8773),u=n(8981),d=n(7055),f=Object.assign,p=Object.defineProperty,m=o([].concat);e.exports=!f||i(function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!==f({},e)[n]||c(f({},t)).join("")!==o})?function(e,t){for(var n=u(e),o=arguments.length,i=1,f=s.f,p=l.f;o>i;)for(var h,v=d(arguments[i++]),g=f?m(c(v),f(v)):c(v),y=g.length,b=0;y>b;)h=g[b++],r&&!a(p,v,h)||(n[h]=v[h]);return n}:f},4215:(e,t,n)=>{var r=n(4576),o=n(2839),a=n(2195),i=function(e){return o.slice(0,e.length)===e};e.exports=i("Bun/")?"BUN":i("Cloudflare-Workers")?"CLOUDFLARE":i("Deno/")?"DENO":i("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},4265:(e,t,n)=>{var r=n(2839);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},4270:(e,t,n)=>{var r=n(9565),o=n(4901),a=n(34),i=TypeError;e.exports=function(e,t){var n,c;if("string"===t&&o(n=e.toString)&&!a(c=r(n,e)))return c;if(o(n=e.valueOf)&&!a(c=r(n,e)))return c;if("string"!==t&&o(n=e.toString)&&!a(c=r(n,e)))return c;throw new i("Can't convert object to primitive value")}},4373:(e,t,n)=>{var r=n(8981),o=n(5610),a=n(6198);e.exports=function(e){for(var t=r(this),n=a(t),i=arguments.length,c=o(i>1?arguments[1]:void 0,n),s=i>2?arguments[2]:void 0,l=void 0===s?n:o(s,n);l>c;)t[c++]=e;return t}},4376:(e,t,n)=>{var r=n(2195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4423:(e,t,n)=>{var r=n(6518),o=n(9617).includes,a=n(9039),i=n(6469);r({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},4428:(e,t,n)=>{var r=n(8227)("iterator"),o=!1;try{var a=0,i={next:function(){return{done:!!a++}},return:function(){o=!0}};i[r]=function(){return this},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){try{if(!t&&!o)return!1}catch(e){return!1}var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},4488:(e,t,n)=>{var r=n(7680),o=Math.floor,a=function(e,t){var n=e.length;if(n<8)for(var i,c,s=1;s<n;){for(c=s,i=e[s];c&&t(e[c-1],i)>0;)e[c]=e[--c];c!==s++&&(e[c]=i)}else for(var l=o(n/2),u=a(r(e,0,l),t),d=a(r(e,l),t),f=u.length,p=d.length,m=0,h=0;m<f||h<p;)e[m+h]=m<f&&h<p?t(u[m],d[h])<=0?u[m++]:d[h++]:m<f?u[m++]:d[h++];return e};e.exports=a},4495:(e,t,n)=>{var r=n(9519),o=n(9039),a=n(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},4527:(e,t,n)=>{var r=n(3724),o=n(4376),a=TypeError,i=Object.getOwnPropertyDescriptor,c=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=c?function(e,t){if(o(e)&&!i(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4554:(e,t,n)=>{var r=n(6518),o=n(8981),a=n(5610),i=n(1291),c=n(6198),s=n(4527),l=n(6837),u=n(1469),d=n(4659),f=n(4606),p=n(597)("splice"),m=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,p,v,g,y,b=o(this),x=c(b),w=a(e,x),k=arguments.length;for(0===k?n=r=0:1===k?(n=0,r=x-w):(n=k-2,r=h(m(i(t),0),x-w)),l(x+n-r),p=u(b,r),v=0;v<r;v++)(g=w+v)in b&&d(p,v,b[g]);if(p.length=r,n<r){for(v=w;v<x-r;v++)y=v+n,(g=v+r)in b?b[y]=b[g]:f(b,y);for(v=x;v>x-r+n;v--)f(b,v-1)}else if(n>r)for(v=x-r;v>w;v--)y=v+n-1,(g=v+r-1)in b?b[y]=b[g]:f(b,y);for(v=0;v<n;v++)b[v+w]=arguments[v+2];return s(b,x-r+n),p}})},4576:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4598:(e,t,n)=>{var r=n(9039);e.exports=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){return 1},1)})}},4606:(e,t,n)=>{var r=n(6823),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw new o("Cannot delete property "+r(t)+" of "+r(e))}},4659:(e,t,n)=>{var r=n(3724),o=n(4913),a=n(6980);e.exports=function(e,t,n){r?o.f(e,t,a(0,n)):e[t]=n}},4782:(e,t,n)=>{var r=n(6518),o=n(4376),a=n(3517),i=n(34),c=n(5610),s=n(6198),l=n(5397),u=n(4659),d=n(8227),f=n(597),p=n(7680),m=f("slice"),h=d("species"),v=Array,g=Math.max;r({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var n,r,d,f=l(this),m=s(f),y=c(e,m),b=c(void 0===t?m:t,m);if(o(f)&&(n=f.constructor,(a(n)&&(n===v||o(n.prototype))||i(n)&&null===(n=n[h]))&&(n=void 0),n===v||void 0===n))return p(f,y,b);for(r=new(void 0===n?v:n)(g(b-y,0)),d=0;y<b;y++,d++)y in f&&u(r,d,f[y]);return r.length=d,r}})},4901:e=>{var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4913:(e,t,n)=>{var r=n(3724),o=n(5917),a=n(8686),i=n(8551),c=n(6969),s=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?a?function(e,t,n){if(i(e),t=c(t),i(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=u(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(i(e),t=c(t),i(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new s("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},5031:(e,t,n)=>{var r=n(7751),o=n(9504),a=n(8480),i=n(3717),c=n(8551),s=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(c(e)),n=i.f;return n?s(t,n(e)):t}},5213:(e,t,n)=>{var r=n(4576),o=n(9039),a=r.RegExp,i=!o(function(){var e=!0;try{a(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",o=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var c in e&&(i.hasIndices="d"),i)o(c,i[c]);return Object.getOwnPropertyDescriptor(a.prototype,"flags").get.call(t)!==r||n!==r});e.exports={correct:i}},5397:(e,t,n)=>{var r=n(7055),o=n(7750);e.exports=function(e){return r(o(e))}},5440:(e,t,n)=>{var r=n(8745),o=n(9565),a=n(9504),i=n(9228),c=n(9039),s=n(8551),l=n(4901),u=n(34),d=n(1291),f=n(8014),p=n(655),m=n(7750),h=n(7829),v=n(5966),g=n(2478),y=n(1034),b=n(6682),x=n(8227)("replace"),w=Math.max,k=Math.min,E=a([].concat),I=a([].push),_=a("".indexOf),S=a("".slice),C=function(e){return void 0===e?e:String(e)},B="$0"==="a".replace(/./,"$0"),L=!!/./[x]&&""===/./[x]("a","$0");i("replace",function(e,t,n){var a=L?"$":"$0";return[function(e,n){var r=m(this),a=u(e)?v(e,x):void 0;return a?o(a,e,r,n):o(t,p(r),e,n)},function(e,o){var i=s(this),c=p(e);if("string"==typeof o&&-1===_(o,a)&&-1===_(o,"$<")){var u=n(t,i,c,o);if(u.done)return u.value}var m=l(o);m||(o=p(o));var v,x=p(y(i)),B=-1!==_(x,"g");B&&(v=-1!==_(x,"u"),i.lastIndex=0);for(var L,O=[];null!==(L=b(i,c))&&(I(O,L),B);)""===p(L[0])&&(i.lastIndex=h(c,f(i.lastIndex),v));for(var j="",T=0,A=0;A<O.length;A++){for(var P,R=p((L=O[A])[0]),N=w(k(d(L.index),c.length),0),M=[],q=1;q<L.length;q++)I(M,C(L[q]));var H=L.groups;if(m){var F=E([R],M,N,c);void 0!==H&&I(F,H),P=p(r(o,void 0,F))}else P=g(R,c,N,M,H,o);N>=T&&(j+=S(c,T,N)+P,T=N+R.length)}return j+S(c,T)}]},!!c(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!B||L)},5506:(e,t,n)=>{var r=n(6518),o=n(2357).entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},5548:(e,t,n)=>{var r=n(3517),o=n(6823),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(o(e)+" is not a constructor")}},5610:(e,t,n)=>{var r=n(1291),o=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):a(n,t)}},5652:(e,t,n)=>{var r=n(9039);e.exports=r(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})},5745:(e,t,n)=>{var r=n(7629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},5746:(e,t,n)=>{var r=n(9565),o=n(9228),a=n(8551),i=n(34),c=n(7750),s=n(3470),l=n(655),u=n(5966),d=n(6682);o("search",function(e,t,n){return[function(t){var n=c(this),o=i(t)?u(t,e):void 0;return o?r(o,t,n):new RegExp(t)[e](l(n))},function(e){var r=a(this),o=l(e),i=n(t,r,o);if(i.done)return i.value;var c=r.lastIndex;s(c,0)||(r.lastIndex=0);var u=d(r,o);return s(r.lastIndex,c)||(r.lastIndex=c),null===u?-1:u.index}]})},5806:(e,t,n)=>{n(7764);var r,o=n(6518),a=n(3724),i=n(7416),c=n(4576),s=n(6080),l=n(9504),u=n(6840),d=n(2106),f=n(679),p=n(9297),m=n(4213),h=n(7916),v=n(7680),g=n(8183).codeAt,y=n(6098),b=n(655),x=n(687),w=n(2812),k=n(8406),E=n(1181),I=E.set,_=E.getterFor("URL"),S=k.URLSearchParams,C=k.getState,B=c.URL,L=c.TypeError,O=c.parseInt,j=Math.floor,T=Math.pow,A=l("".charAt),P=l(/./.exec),R=l([].join),N=l(1.1.toString),M=l([].pop),q=l([].push),H=l("".replace),F=l([].shift),U=l("".split),D=l("".slice),J=l("".toLowerCase),z=l([].unshift),W="Invalid scheme",G="Invalid host",V="Invalid port",$=/[a-z]/i,Z=/[\d+-.a-z]/i,Y=/\d/,Q=/^0x/i,K=/^[0-7]+$/,X=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,oe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,ie=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=j(e/256);return R(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,a=0;a<8;a++)0!==e[a]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=a),++o);return o>n?r:t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=N(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ce={},se=m({},ce,{" ":1,'"':1,"<":1,">":1,"`":1}),le=m({},se,{"#":1,"?":1,"{":1,"}":1}),ue=m({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var n=g(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var n;return 2===e.length&&P($,A(e,0))&&(":"===(n=A(e,1))||!t&&"|"===n)},me=function(e){var t;return e.length>1&&pe(D(e,0,2))&&(2===e.length||"/"===(t=A(e,2))||"\\"===t||"?"===t||"#"===t)},he=function(e){return"."===e||"%2e"===J(e)},ve=function(e){return".."===(e=J(e))||"%2e."===e||".%2e"===e||"%2e%2e"===e},ge={},ye={},be={},xe={},we={},ke={},Ee={},Ie={},_e={},Se={},Ce={},Be={},Le={},Oe={},je={},Te={},Ae={},Pe={},Re={},Ne={},Me={},qe=function(e,t,n){var r,o,a,i=b(e);if(t){if(o=this.parse(i))throw new L(o);this.searchParams=null}else{if(void 0!==n&&(r=new qe(n,!0)),o=this.parse(i,null,r))throw new L(o);(a=C(new S)).bindURL(this),this.searchParams=a}};qe.prototype={type:"URL",parse:function(e,t,n){var o,a,i,c,s=this,l=t||ge,u=0,d="",f=!1,m=!1,g=!1;for(e=b(e),t||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,e=H(e,re,""),e=H(e,oe,"$1")),e=H(e,ae,""),o=h(e);u<=o.length;){switch(a=o[u],l){case ge:if(!a||!P($,a)){if(t)return W;l=be;continue}d+=J(a),l=ye;break;case ye:if(a&&(P(Z,a)||"+"===a||"-"===a||"."===a))d+=J(a);else{if(":"!==a){if(t)return W;d="",l=be,u=0;continue}if(t&&(s.isSpecial()!==p(fe,d)||"file"===d&&(s.includesCredentials()||null!==s.port)||"file"===s.scheme&&!s.host))return;if(s.scheme=d,t)return void(s.isSpecial()&&fe[s.scheme]===s.port&&(s.port=null));d="","file"===s.scheme?l=Oe:s.isSpecial()&&n&&n.scheme===s.scheme?l=xe:s.isSpecial()?l=Ie:"/"===o[u+1]?(l=we,u++):(s.cannotBeABaseURL=!0,q(s.path,""),l=Re)}break;case be:if(!n||n.cannotBeABaseURL&&"#"!==a)return W;if(n.cannotBeABaseURL&&"#"===a){s.scheme=n.scheme,s.path=v(n.path),s.query=n.query,s.fragment="",s.cannotBeABaseURL=!0,l=Me;break}l="file"===n.scheme?Oe:ke;continue;case xe:if("/"!==a||"/"!==o[u+1]){l=ke;continue}l=_e,u++;break;case we:if("/"===a){l=Se;break}l=Pe;continue;case ke:if(s.scheme=n.scheme,a===r)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=v(n.path),s.query=n.query;else if("/"===a||"\\"===a&&s.isSpecial())l=Ee;else if("?"===a)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=v(n.path),s.query="",l=Ne;else{if("#"!==a){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=v(n.path),s.path.length--,l=Pe;continue}s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=v(n.path),s.query=n.query,s.fragment="",l=Me}break;case Ee:if(!s.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,l=Pe;continue}l=Se}else l=_e;break;case Ie:if(l=_e,"/"!==a||"/"!==A(d,u+1))continue;u++;break;case _e:if("/"!==a&&"\\"!==a){l=Se;continue}break;case Se:if("@"===a){f&&(d="%40"+d),f=!0,i=h(d);for(var y=0;y<i.length;y++){var x=i[y];if(":"!==x||g){var w=de(x,ue);g?s.password+=w:s.username+=w}else g=!0}d=""}else if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&s.isSpecial()){if(f&&""===d)return"Invalid authority";u-=h(d).length+1,d="",l=Ce}else d+=a;break;case Ce:case Be:if(t&&"file"===s.scheme){l=Te;continue}if(":"!==a||m){if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&s.isSpecial()){if(s.isSpecial()&&""===d)return G;if(t&&""===d&&(s.includesCredentials()||null!==s.port))return;if(c=s.parseHost(d))return c;if(d="",l=Ae,t)return;continue}"["===a?m=!0:"]"===a&&(m=!1),d+=a}else{if(""===d)return G;if(c=s.parseHost(d))return c;if(d="",l=Le,t===Be)return}break;case Le:if(!P(Y,a)){if(a===r||"/"===a||"?"===a||"#"===a||"\\"===a&&s.isSpecial()||t){if(""!==d){var k=O(d,10);if(k>65535)return V;s.port=s.isSpecial()&&k===fe[s.scheme]?null:k,d=""}if(t)return;l=Ae;continue}return V}d+=a;break;case Oe:if(s.scheme="file","/"===a||"\\"===a)l=je;else{if(!n||"file"!==n.scheme){l=Pe;continue}switch(a){case r:s.host=n.host,s.path=v(n.path),s.query=n.query;break;case"?":s.host=n.host,s.path=v(n.path),s.query="",l=Ne;break;case"#":s.host=n.host,s.path=v(n.path),s.query=n.query,s.fragment="",l=Me;break;default:me(R(v(o,u),""))||(s.host=n.host,s.path=v(n.path),s.shortenPath()),l=Pe;continue}}break;case je:if("/"===a||"\\"===a){l=Te;break}n&&"file"===n.scheme&&!me(R(v(o,u),""))&&(pe(n.path[0],!0)?q(s.path,n.path[0]):s.host=n.host),l=Pe;continue;case Te:if(a===r||"/"===a||"\\"===a||"?"===a||"#"===a){if(!t&&pe(d))l=Pe;else if(""===d){if(s.host="",t)return;l=Ae}else{if(c=s.parseHost(d))return c;if("localhost"===s.host&&(s.host=""),t)return;d="",l=Ae}continue}d+=a;break;case Ae:if(s.isSpecial()){if(l=Pe,"/"!==a&&"\\"!==a)continue}else if(t||"?"!==a)if(t||"#"!==a){if(a!==r&&(l=Pe,"/"!==a))continue}else s.fragment="",l=Me;else s.query="",l=Ne;break;case Pe:if(a===r||"/"===a||"\\"===a&&s.isSpecial()||!t&&("?"===a||"#"===a)){if(ve(d)?(s.shortenPath(),"/"===a||"\\"===a&&s.isSpecial()||q(s.path,"")):he(d)?"/"===a||"\\"===a&&s.isSpecial()||q(s.path,""):("file"===s.scheme&&!s.path.length&&pe(d)&&(s.host&&(s.host=""),d=A(d,0)+":"),q(s.path,d)),d="","file"===s.scheme&&(a===r||"?"===a||"#"===a))for(;s.path.length>1&&""===s.path[0];)F(s.path);"?"===a?(s.query="",l=Ne):"#"===a&&(s.fragment="",l=Me)}else d+=de(a,le);break;case Re:"?"===a?(s.query="",l=Ne):"#"===a?(s.fragment="",l=Me):a!==r&&(s.path[0]+=de(a,ce));break;case Ne:t||"#"!==a?a!==r&&("'"===a&&s.isSpecial()?s.query+="%27":s.query+="#"===a?"%23":de(a,ce)):(s.fragment="",l=Me);break;case Me:a!==r&&(s.fragment+=de(a,se))}u++}},parseHost:function(e){var t,n,r;if("["===A(e,0)){if("]"!==A(e,e.length-1))return G;if(t=function(e){var t,n,r,o,a,i,c,s=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,f=function(){return A(e,d)};if(":"===f()){if(":"!==A(e,1))return;d+=2,u=++l}for(;f();){if(8===l)return;if(":"!==f()){for(t=n=0;n<4&&P(ee,f());)t=16*t+O(f(),16),d++,n++;if("."===f()){if(0===n)return;if(d-=n,l>6)return;for(r=0;f();){if(o=null,r>0){if(!("."===f()&&r<4))return;d++}if(!P(Y,f()))return;for(;P(Y,f());){if(a=O(f(),10),null===o)o=a;else{if(0===o)return;o=10*o+a}if(o>255)return;d++}s[l]=256*s[l]+o,2!==++r&&4!==r||l++}if(4!==r)return;break}if(":"===f()){if(d++,!f())return}else if(f())return;s[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(i=l-u,l=7;0!==l&&i>0;)c=s[l],s[l--]=s[u+i-1],s[u+--i]=c;else if(8!==l)return;return s}(D(e,1,-1)),!t)return G;this.host=t}else if(this.isSpecial()){if(e=y(e),P(te,e))return G;if(t=function(e){var t,n,r,o,a,i,c,s=U(e,".");if(s.length&&""===s[s.length-1]&&s.length--,(t=s.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(o=s[r]))return e;if(a=10,o.length>1&&"0"===A(o,0)&&(a=P(Q,o)?16:8,o=D(o,8===a?1:2)),""===o)i=0;else{if(!P(10===a?X:8===a?K:ee,o))return e;i=O(o,a)}q(n,i)}for(r=0;r<t;r++)if(i=n[r],r===t-1){if(i>=T(256,5-t))return null}else if(i>255)return null;for(c=M(n),r=0;r<n.length;r++)c+=n[r]*T(256,3-r);return c}(e),null===t)return G;this.host=t}else{if(P(ne,e))return G;for(t="",n=h(e),r=0;r<n.length;r++)t+=de(n[r],ce);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,a=e.port,i=e.path,c=e.query,s=e.fragment,l=t+":";return null!==o?(l+="//",e.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=ie(o),null!==a&&(l+=":"+a)):"file"===t&&(l+="//"),l+=e.cannotBeABaseURL?i[0]:i.length?"/"+R(i,"/"):"",null!==c&&(l+="?"+c),null!==s&&(l+="#"+s),l},setHref:function(e){var t=this.parse(e);if(t)throw new L(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new He(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+ie(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=h(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=de(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=h(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=de(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ie(e):ie(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ce)},getHostname:function(){var e=this.host;return null===e?"":ie(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Be)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=b(e))?this.port=null:this.parse(e,Le))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+R(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ae))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=b(e))?this.query=null:("?"===A(e,0)&&(e=D(e,1)),this.query="",this.parse(e,Ne)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=b(e))?("#"===A(e,0)&&(e=D(e,1)),this.fragment="",this.parse(e,Me)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var He=function(e){var t=f(this,Fe),n=w(arguments.length,1)>1?arguments[1]:void 0,r=I(t,new qe(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Fe=He.prototype,Ue=function(e,t){return{get:function(){return _(this)[e]()},set:t&&function(e){return _(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(Fe,"href",Ue("serialize","setHref")),d(Fe,"origin",Ue("getOrigin")),d(Fe,"protocol",Ue("getProtocol","setProtocol")),d(Fe,"username",Ue("getUsername","setUsername")),d(Fe,"password",Ue("getPassword","setPassword")),d(Fe,"host",Ue("getHost","setHost")),d(Fe,"hostname",Ue("getHostname","setHostname")),d(Fe,"port",Ue("getPort","setPort")),d(Fe,"pathname",Ue("getPathname","setPathname")),d(Fe,"search",Ue("getSearch","setSearch")),d(Fe,"searchParams",Ue("getSearchParams")),d(Fe,"hash",Ue("getHash","setHash"))),u(Fe,"toJSON",function(){return _(this).serialize()},{enumerable:!0}),u(Fe,"toString",function(){return _(this).serialize()},{enumerable:!0}),B){var De=B.createObjectURL,Je=B.revokeObjectURL;De&&u(He,"createObjectURL",s(De,B)),Je&&u(He,"revokeObjectURL",s(Je,B))}x(He,"URL"),o({global:!0,constructor:!0,forced:!i,sham:!a},{URL:He})},5917:(e,t,n)=>{var r=n(3724),o=n(9039),a=n(4055);e.exports=!r&&!o(function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},5966:(e,t,n)=>{var r=n(9306),o=n(4117);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},6043:(e,t,n)=>{var r=n(9306),o=TypeError,a=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw new o("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new a(e)}},6080:(e,t,n)=>{var r=n(7476),o=n(9306),a=n(616),i=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?i(e,t):function(){return e.apply(t,arguments)}}},6098:(e,t,n)=>{var r=n(9504),o=2147483647,a=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",s=RangeError,l=r(i.exec),u=Math.floor,d=String.fromCharCode,f=r("".charCodeAt),p=r([].join),m=r([].push),h=r("".replace),v=r("".split),g=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),r+=36;return u(r+36*e/(e+38))},x=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=f(e,n++);if(o>=55296&&o<=56319&&n<r){var a=f(e,n++);56320==(64512&a)?m(t,((1023&o)<<10)+(1023&a)+65536):(m(t,o),n--)}else m(t,o)}return t}(e);var n,r,a=e.length,i=128,l=0,h=72;for(n=0;n<e.length;n++)(r=e[n])<128&&m(t,d(r));var v=t.length,g=v;for(v&&m(t,"-");g<a;){var x=o;for(n=0;n<e.length;n++)(r=e[n])>=i&&r<x&&(x=r);var w=g+1;if(x-i>u((o-l)/w))throw new s(c);for(l+=(x-i)*w,i=x,n=0;n<e.length;n++){if((r=e[n])<i&&++l>o)throw new s(c);if(r===i){for(var k=l,E=36;;){var I=E<=h?1:E>=h+26?26:E-h;if(k<I)break;var _=k-I,S=36-I;m(t,d(y(I+_%S))),k=u(_/S),E+=36}m(t,d(y(k))),h=b(l,w,g===v),l=0,g++}}l++,i++}return p(t,"")};e.exports=function(e){var t,n,r=[],o=v(h(g(e),i,"."),".");for(t=0;t<o.length;t++)n=o[t],m(r,l(a,n)?"xn--"+x(n):n);return p(r,".")}},6099:(e,t,n)=>{var r=n(2140),o=n(6840),a=n(3179);r||o(Object.prototype,"toString",a,{unsafe:!0})},6119:(e,t,n)=>{var r=n(5745),o=n(3392),a=r("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},6193:(e,t,n)=>{var r=n(4215);e.exports="NODE"===r},6198:(e,t,n)=>{var r=n(8014);e.exports=function(e){return r(e.length)}},6269:e=>{e.exports={}},6279:(e,t,n)=>{var r=n(6840);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},6319:(e,t,n)=>{var r=n(8551),o=n(9539);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},6395:e=>{e.exports=!1},6468:(e,t,n)=>{var r=n(6518),o=n(4576),a=n(9504),i=n(2796),c=n(6840),s=n(3451),l=n(2652),u=n(679),d=n(4901),f=n(4117),p=n(34),m=n(9039),h=n(4428),v=n(687),g=n(3167);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),x=y?"set":"add",w=o[e],k=w&&w.prototype,E=w,I={},_=function(e){var t=a(k[e]);c(k,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return b&&!p(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(i(e,!d(w)||!(b||k.forEach&&!m(function(){(new w).entries().next()}))))E=n.getConstructor(t,e,y,x),s.enable();else if(i(e,!0)){var S=new E,C=S[x](b?{}:-0,1)!==S,B=m(function(){S.has(1)}),L=h(function(e){new w(e)}),O=!b&&m(function(){for(var e=new w,t=5;t--;)e[x](t,t);return!e.has(-0)});L||((E=t(function(e,t){u(e,k);var n=g(new w,e,E);return f(t)||l(t,n[x],{that:n,AS_ENTRIES:y}),n})).prototype=k,k.constructor=E),(B||O)&&(_("delete"),_("has"),y&&_("get")),(O||C)&&_(x),b&&k.clear&&delete k.clear}return I[e]=E,r({global:!0,constructor:!0,forced:E!==w},I),v(E,e),b||n.setStrong(E,e,y),E}},6469:(e,t,n)=>{var r=n(8227),o=n(2360),a=n(4913).f,i=r("unscopables"),c=Array.prototype;void 0===c[i]&&a(c,i,{configurable:!0,value:o(null)}),e.exports=function(e){c[i][e]=!0}},6499:(e,t,n)=>{var r=n(6518),o=n(9565),a=n(9306),i=n(6043),c=n(1103),s=n(2652);r({target:"Promise",stat:!0,forced:n(537)},{all:function(e){var t=this,n=i.f(t),r=n.resolve,l=n.reject,u=c(function(){var n=a(t.resolve),i=[],c=0,u=1;s(e,function(e){var a=c++,s=!1;u++,o(n,t,e).then(function(e){s||(s=!0,i[a]=e,--u||r(i))},l)}),--u||r(i)});return u.error&&l(u.value),n.promise}})},6518:(e,t,n)=>{var r=n(4576),o=n(7347).f,a=n(6699),i=n(6840),c=n(9433),s=n(7740),l=n(2796);e.exports=function(e,t){var n,u,d,f,p,m=e.target,h=e.global,v=e.stat;if(n=h?r:v?r[m]||c(m,{}):r[m]&&r[m].prototype)for(u in t){if(f=t[u],d=e.dontCallGetSet?(p=o(n,u))&&p.value:n[u],!l(h?u:m+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;s(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),i(n,u,f,e)}}},6682:(e,t,n)=>{var r=n(9565),o=n(8551),a=n(4901),i=n(2195),c=n(7323),s=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var l=r(n,e,t);return null!==l&&o(l),l}if("RegExp"===i(e))return r(c,e,t);throw new s("RegExp#exec called on incompatible receiver")}},6699:(e,t,n)=>{var r=n(3724),o=n(4913),a=n(6980);e.exports=r?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},6706:(e,t,n)=>{var r=n(9504),o=n(9306);e.exports=function(e,t,n){try{return r(o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6761:(e,t,n)=>{var r=n(6518),o=n(4576),a=n(9565),i=n(9504),c=n(6395),s=n(3724),l=n(4495),u=n(9039),d=n(9297),f=n(1625),p=n(8551),m=n(5397),h=n(6969),v=n(655),g=n(6980),y=n(2360),b=n(1072),x=n(8480),w=n(298),k=n(3717),E=n(7347),I=n(4913),_=n(6801),S=n(8773),C=n(6840),B=n(2106),L=n(5745),O=n(6119),j=n(421),T=n(3392),A=n(8227),P=n(1951),R=n(511),N=n(8242),M=n(687),q=n(1181),H=n(9213).forEach,F=O("hidden"),U="Symbol",D="prototype",J=q.set,z=q.getterFor(U),W=Object[D],G=o.Symbol,V=G&&G[D],$=o.RangeError,Z=o.TypeError,Y=o.QObject,Q=E.f,K=I.f,X=w.f,ee=S.f,te=i([].push),ne=L("symbols"),re=L("op-symbols"),oe=L("wks"),ae=!Y||!Y[D]||!Y[D].findChild,ie=function(e,t,n){var r=Q(W,t);r&&delete W[t],K(e,t,n),r&&e!==W&&K(W,t,r)},ce=s&&u(function(){return 7!==y(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?ie:K,se=function(e,t){var n=ne[e]=y(V);return J(n,{type:U,tag:e,description:t}),s||(n.description=t),n},le=function(e,t,n){e===W&&le(re,t,n),p(e);var r=h(t);return p(n),d(ne,r)?(n.enumerable?(d(e,F)&&e[F][r]&&(e[F][r]=!1),n=y(n,{enumerable:g(0,!1)})):(d(e,F)||K(e,F,g(1,y(null))),e[F][r]=!0),ce(e,r,n)):K(e,r,n)},ue=function(e,t){p(e);var n=m(t),r=b(n).concat(me(n));return H(r,function(t){s&&!a(de,n,t)||le(e,t,n[t])}),e},de=function(e){var t=h(e),n=a(ee,this,t);return!(this===W&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,F)&&this[F][t])||n)},fe=function(e,t){var n=m(e),r=h(t);if(n!==W||!d(ne,r)||d(re,r)){var o=Q(n,r);return!o||!d(ne,r)||d(n,F)&&n[F][r]||(o.enumerable=!0),o}},pe=function(e){var t=X(m(e)),n=[];return H(t,function(e){d(ne,e)||d(j,e)||te(n,e)}),n},me=function(e){var t=e===W,n=X(t?re:m(e)),r=[];return H(n,function(e){!d(ne,e)||t&&!d(W,e)||te(r,ne[e])}),r};l||(C(V=(G=function(){if(f(V,this))throw new Z("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=T(e),n=function(e){var r=void 0===this?o:this;r===W&&a(n,re,e),d(r,F)&&d(r[F],t)&&(r[F][t]=!1);var i=g(1,e);try{ce(r,t,i)}catch(e){if(!(e instanceof $))throw e;ie(r,t,i)}};return s&&ae&&ce(W,t,{configurable:!0,set:n}),se(t,e)})[D],"toString",function(){return z(this).tag}),C(G,"withoutSetter",function(e){return se(T(e),e)}),S.f=de,I.f=le,_.f=ue,E.f=fe,x.f=w.f=pe,k.f=me,P.f=function(e){return se(A(e),e)},s&&(B(V,"description",{configurable:!0,get:function(){return z(this).description}}),c||C(W,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:G}),H(b(oe),function(e){R(e)}),r({target:U,stat:!0,forced:!l},{useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!s},{create:function(e,t){return void 0===t?y(e):ue(y(e),t)},defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:pe}),N(),M(G,U),j[F]=!0},6801:(e,t,n)=>{var r=n(3724),o=n(8686),a=n(4913),i=n(8551),c=n(5397),s=n(1072);t.f=r&&!o?Object.defineProperties:function(e,t){i(e);for(var n,r=c(t),o=s(t),l=o.length,u=0;l>u;)a.f(e,n=o[u++],r[n]);return e}},6823:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},6837:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},6840:(e,t,n)=>{var r=n(4901),o=n(4913),a=n(283),i=n(9433);e.exports=function(e,t,n,c){c||(c={});var s=c.enumerable,l=void 0!==c.name?c.name:t;if(r(n)&&a(n,l,c),c.global)s?e[t]=n:i(t,n);else{try{c.unsafe?e[t]&&(s=!0):delete e[t]}catch(e){}s?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return e}},6933:(e,t,n)=>{var r=n(9504),o=n(4376),a=n(4901),i=n(2195),c=n(655),s=r([].push);e.exports=function(e){if(a(e))return e;if(o(e)){for(var t=e.length,n=[],r=0;r<t;r++){var l=e[r];"string"==typeof l?s(n,l):"number"!=typeof l&&"Number"!==i(l)&&"String"!==i(l)||s(n,c(l))}var u=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(o(this))return t;for(var r=0;r<u;r++)if(n[r]===e)return t}}}},6938:(e,t,n)=>{var r=n(2360),o=n(2106),a=n(6279),i=n(6080),c=n(679),s=n(4117),l=n(2652),u=n(1088),d=n(2529),f=n(7633),p=n(3724),m=n(3451).fastKey,h=n(1181),v=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,u){var d=e(function(e,o){c(e,f),v(e,{type:t,index:r(null),first:null,last:null,size:0}),p||(e.size=0),s(o)||l(o,e[u],{that:e,AS_ENTRIES:n})}),f=d.prototype,h=g(t),y=function(e,t,n){var r,o,a=h(e),i=b(e,t);return i?i.value=n:(a.last=i={index:o=m(t,!0),key:t,value:n,previous:r=a.last,next:null,removed:!1},a.first||(a.first=i),r&&(r.next=i),p?a.size++:e.size++,"F"!==o&&(a.index[o]=i)),e},b=function(e,t){var n,r=h(e),o=m(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key===t)return n};return a(f,{clear:function(){for(var e=h(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=null),t=t.next;e.first=e.last=null,e.index=r(null),p?e.size=0:this.size=0},delete:function(e){var t=this,n=h(t),r=b(t,e);if(r){var o=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=o),o&&(o.previous=a),n.first===r&&(n.first=o),n.last===r&&(n.last=a),p?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=h(this),r=i(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),a(f,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),p&&o(f,"size",{configurable:!0,get:function(){return h(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",o=g(t),a=g(r);u(e,t,function(e,t){v(this,{type:r,target:e,state:o(e),kind:t,last:null})},function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=null,d(void 0,!0))},n?"entries":"values",!n,!0),f(t)}}},6955:(e,t,n)=>{var r=n(2140),o=n(4901),a=n(2195),i=n(8227)("toStringTag"),c=Object,s="Arguments"===a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),i))?n:s?a(t):"Object"===(r=a(t))&&o(t.callee)?"Arguments":r}},6969:(e,t,n)=>{var r=n(2777),o=n(757);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},6980:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7040:(e,t,n)=>{var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:(e,t,n)=>{var r=n(9504),o=n(9039),a=n(2195),i=Object,c=r("".split);e.exports=o(function(){return!i("z").propertyIsEnumerable(0)})?function(e){return"String"===a(e)?c(e,""):i(e)}:i},7208:(e,t,n)=>{var r=n(6518),o=n(9565);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return o(URL.prototype.toString,this)}})},7323:(e,t,n)=>{var r,o,a=n(9565),i=n(9504),c=n(655),s=n(7979),l=n(8429),u=n(5745),d=n(2360),f=n(1181).get,p=n(3635),m=n(8814),h=u("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,y=i("".charAt),b=i("".indexOf),x=i("".replace),w=i("".slice),k=(o=/b*/g,a(v,r=/a/,"a"),a(v,o,"a"),0!==r.lastIndex||0!==o.lastIndex),E=l.BROKEN_CARET,I=void 0!==/()??/.exec("")[1];(k||I||E||p||m)&&(g=function(e){var t,n,r,o,i,l,u,p=this,m=f(p),_=c(e),S=m.raw;if(S)return S.lastIndex=p.lastIndex,t=a(g,S,_),p.lastIndex=S.lastIndex,t;var C=m.groups,B=E&&p.sticky,L=a(s,p),O=p.source,j=0,T=_;if(B&&(L=x(L,"y",""),-1===b(L,"g")&&(L+="g"),T=w(_,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(_,p.lastIndex-1))&&(O="(?: "+O+")",T=" "+T,j++),n=new RegExp("^(?:"+O+")",L)),I&&(n=new RegExp("^"+O+"$(?!\\s)",L)),k&&(r=p.lastIndex),o=a(v,B?n:p,T),B?o?(o.input=w(o.input,j),o[0]=w(o[0],j),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:k&&o&&(p.lastIndex=p.global?o.index+o[0].length:r),I&&o&&o.length>1&&a(h,o[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o&&C)for(o.groups=l=d(null),i=0;i<C.length;i++)l[(u=C[i])[0]]=o[u[1]];return o}),e.exports=g},7337:(e,t,n)=>{var r=n(6518),o=n(9504),a=n(5610),i=RangeError,c=String.fromCharCode,s=String.fromCodePoint,l=o([].join);r({target:"String",stat:!0,arity:1,forced:!!s&&1!==s.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],a(t,1114111)!==t)throw new i(t+" is not a valid code point");n[o]=t<65536?c(t):c(55296+((t-=65536)>>10),t%1024+56320)}return l(n,"")}})},7347:(e,t,n)=>{var r=n(3724),o=n(9565),a=n(8773),i=n(6980),c=n(5397),s=n(6969),l=n(9297),u=n(5917),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=c(e),t=s(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return i(!o(a.f,e,t),e[t])}},7400:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7416:(e,t,n)=>{var r=n(9039),o=n(8227),a=n(3724),i=n(6395),c=o("iterator");e.exports=!r(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach(function(e,n){t.delete("b"),r+=n+e}),n.delete("a",2),n.delete("b",void 0),i&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(i||!a)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[c]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==r||"x"!==new URL("https://x",void 0).host})},7433:(e,t,n)=>{var r=n(4376),o=n(3517),a=n(34),i=n(8227)("species"),c=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(o(t)&&(t===c||r(t.prototype))||a(t)&&null===(t=t[i]))&&(t=void 0)),void 0===t?c:t}},7452:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},7476:(e,t,n)=>{var r=n(2195),o=n(9504);e.exports=function(e){if("Function"===r(e))return o(e)}},7495:(e,t,n)=>{var r=n(6518),o=n(7323);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},7629:(e,t,n)=>{var r=n(6395),o=n(4576),a=n(9433),i="__core-js_shared__",c=e.exports=o[i]||a(i,{});(c.versions||(c.versions=[])).push({version:"3.45.1",mode:r?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})},7633:(e,t,n)=>{var r=n(7751),o=n(2106),a=n(8227),i=n(3724),c=a("species");e.exports=function(e){var t=r(e);i&&t&&!t[c]&&o(t,c,{configurable:!0,get:function(){return this}})}},7657:(e,t,n)=>{var r,o,a,i=n(9039),c=n(4901),s=n(34),l=n(2360),u=n(2787),d=n(6840),f=n(8227),p=n(6395),m=f("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(o=u(u(a)))!==Object.prototype&&(r=o):h=!0),!s(r)||i(function(){var e={};return r[m].call(e)!==e})?r={}:p&&(r=l(r)),c(r[m])||d(r,m,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},7680:(e,t,n)=>{var r=n(9504);e.exports=r([].slice)},7740:(e,t,n)=>{var r=n(9297),o=n(5031),a=n(7347),i=n(4913);e.exports=function(e,t,n){for(var c=o(t),s=i.f,l=a.f,u=0;u<c.length;u++){var d=c[u];r(e,d)||n&&r(n,d)||s(e,d,l(t,d))}}},7743:(e,t,n)=>{var r=n(6518),o=n(9565),a=n(9306),i=n(6043),c=n(1103),s=n(2652);r({target:"Promise",stat:!0,forced:n(537)},{race:function(e){var t=this,n=i.f(t),r=n.reject,l=c(function(){var i=a(t.resolve);s(e,function(e){o(i,t,e).then(n.resolve,r)})});return l.error&&r(l.value),n.promise}})},7750:(e,t,n)=>{var r=n(4117),o=TypeError;e.exports=function(e){if(r(e))throw new o("Can't call method on "+e);return e}},7751:(e,t,n)=>{var r=n(4576),o=n(4901);e.exports=function(e,t){return arguments.length<2?(n=r[e],o(n)?n:void 0):r[e]&&r[e][t];var n}},7764:(e,t,n)=>{var r=n(8183).charAt,o=n(655),a=n(1181),i=n(1088),c=n(2529),s="String Iterator",l=a.set,u=a.getterFor(s);i(String,"String",function(e){l(this,{type:s,string:o(e),index:0})},function(){var e,t=u(this),n=t.string,o=t.index;return o>=n.length?c(void 0,!0):(e=r(n,o),t.index+=e.length,c(e,!1))})},7812:(e,t,n)=>{var r=n(6518),o=n(9297),a=n(757),i=n(6823),c=n(5745),s=n(1296),l=c("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!s},{keyFor:function(e){if(!a(e))throw new TypeError(i(e)+" is not a symbol");if(o(l,e))return l[e]}})},7829:(e,t,n)=>{var r=n(8183).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},7860:(e,t,n)=>{var r=n(2839);e.exports=/web0s(?!.*chrome)/i.test(r)},7916:(e,t,n)=>{var r=n(6080),o=n(9565),a=n(8981),i=n(6319),c=n(4209),s=n(3517),l=n(6198),u=n(4659),d=n(81),f=n(851),p=Array;e.exports=function(e){var t=a(e),n=s(this),m=arguments.length,h=m>1?arguments[1]:void 0,v=void 0!==h;v&&(h=r(h,m>2?arguments[2]:void 0));var g,y,b,x,w,k,E=f(t),I=0;if(!E||this===p&&c(E))for(g=l(t),y=n?new this(g):p(g);g>I;I++)k=v?h(t[I],I):t[I],u(y,I,k);else for(y=n?new this:[],w=(x=d(t,E)).next;!(b=o(w,x)).done;I++)k=v?i(x,h,[b.value,I],!0):b.value,u(y,I,k);return y.length=I,y}},7979:(e,t,n)=>{var r=n(8551);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8014:(e,t,n)=>{var r=n(1291),o=Math.min;e.exports=function(e){var t=r(e);return t>0?o(t,9007199254740991):0}},8183:(e,t,n)=>{var r=n(9504),o=n(1291),a=n(655),i=n(7750),c=r("".charAt),s=r("".charCodeAt),l=r("".slice),u=function(e){return function(t,n){var r,u,d=a(i(t)),f=o(n),p=d.length;return f<0||f>=p?e?"":void 0:(r=s(d,f))<55296||r>56319||f+1===p||(u=s(d,f+1))<56320||u>57343?e?c(d,f):r:e?l(d,f,f+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},8227:(e,t,n)=>{var r=n(4576),o=n(5745),a=n(9297),i=n(3392),c=n(4495),s=n(7040),l=r.Symbol,u=o("wks"),d=s?l.for||l:l&&l.withoutSetter||i;e.exports=function(e){return a(u,e)||(u[e]=c&&a(l,e)?l[e]:d("Symbol."+e)),u[e]}},8242:(e,t,n)=>{var r=n(9565),o=n(7751),a=n(8227),i=n(6840);e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,c=a("toPrimitive");t&&!t[c]&&i(t,c,function(e){return r(n,this)},{arity:1})}},8265:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},8379:(e,t,n)=>{var r=n(8745),o=n(5397),a=n(1291),i=n(6198),c=n(4598),s=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,d=c("lastIndexOf"),f=u||!d;e.exports=f?function(e){if(u)return r(l,this,arguments)||0;var t=o(this),n=i(t);if(0===n)return-1;var c=n-1;for(arguments.length>1&&(c=s(c,a(arguments[1]))),c<0&&(c=n+c);c>=0;c--)if(c in t&&t[c]===e)return c||0;return-1}:l},8406:(e,t,n)=>{n(3792),n(7337);var r=n(6518),o=n(4576),a=n(3389),i=n(7751),c=n(9565),s=n(9504),l=n(3724),u=n(7416),d=n(6840),f=n(2106),p=n(6279),m=n(687),h=n(3994),v=n(1181),g=n(679),y=n(4901),b=n(9297),x=n(6080),w=n(6955),k=n(8551),E=n(34),I=n(655),_=n(2360),S=n(6980),C=n(81),B=n(851),L=n(2529),O=n(2812),j=n(8227),T=n(4488),A=j("iterator"),P="URLSearchParams",R=P+"Iterator",N=v.set,M=v.getterFor(P),q=v.getterFor(R),H=a("fetch"),F=a("Request"),U=a("Headers"),D=F&&F.prototype,J=U&&U.prototype,z=o.TypeError,W=o.encodeURIComponent,G=String.fromCharCode,V=i("String","fromCodePoint"),$=parseInt,Z=s("".charAt),Y=s([].join),Q=s([].push),K=s("".replace),X=s([].shift),ee=s([].splice),te=s("".split),ne=s("".slice),re=s(/./.exec),oe=/\+/g,ae=/^[0-9a-f]+$/i,ie=function(e,t){var n=ne(e,t,t+2);return re(ae,n)?$(n,16):NaN},ce=function(e){for(var t=0,n=128;n>0&&0!==(e&n);n>>=1)t++;return t},se=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},le=function(e){for(var t=(e=K(e,oe," ")).length,n="",r=0;r<t;){var o=Z(e,r);if("%"===o){if("%"===Z(e,r+1)||r+3>t){n+="%",r++;continue}var a=ie(e,r+1);if(a!=a){n+=o,r++;continue}r+=2;var i=ce(a);if(0===i)o=G(a);else{if(1===i||i>4){n+="�",r++;continue}for(var c=[a],s=1;s<i&&!(3+ ++r>t||"%"!==Z(e,r));){var l=ie(e,r+1);if(l!=l){r+=3;break}if(l>191||l<128)break;Q(c,l),r+=2,s++}if(c.length!==i){n+="�";continue}var u=se(c);null===u?n+="�":o=V(u)}}n+=o,r++}return n},ue=/[!'()~]|%20/g,de={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},fe=function(e){return de[e]},pe=function(e){return K(W(e),ue,fe)},me=h(function(e,t){N(this,{type:R,target:M(e).entries,index:0,kind:t})},P,function(){var e=q(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,L(void 0,!0);var r=t[n];switch(e.kind){case"keys":return L(r.key,!1);case"values":return L(r.value,!1)}return L([r.key,r.value],!1)},!0),he=function(e){this.entries=[],this.url=null,void 0!==e&&(E(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Z(e,0)?ne(e,1):e:I(e)))};he.prototype={type:P,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,a,i,s,l=this.entries,u=B(e);if(u)for(n=(t=C(e,u)).next;!(r=c(n,t)).done;){if(a=(o=C(k(r.value))).next,(i=c(a,o)).done||(s=c(a,o)).done||!c(a,o).done)throw new z("Expected sequence with length 2");Q(l,{key:I(i.value),value:I(s.value)})}else for(var d in e)b(e,d)&&Q(l,{key:d,value:I(e[d])})},parseQuery:function(e){if(e)for(var t,n,r=this.entries,o=te(e,"&"),a=0;a<o.length;)(t=o[a++]).length&&(n=te(t,"="),Q(r,{key:le(X(n)),value:le(Y(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],Q(n,pe(e.key)+"="+pe(e.value));return Y(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ve=function(){g(this,ge);var e=N(this,new he(arguments.length>0?arguments[0]:void 0));l||(this.size=e.entries.length)},ge=ve.prototype;if(p(ge,{append:function(e,t){var n=M(this);O(arguments.length,2),Q(n.entries,{key:I(e),value:I(t)}),l||this.length++,n.updateURL()},delete:function(e){for(var t=M(this),n=O(arguments.length,1),r=t.entries,o=I(e),a=n<2?void 0:arguments[1],i=void 0===a?a:I(a),c=0;c<r.length;){var s=r[c];if(s.key!==o||void 0!==i&&s.value!==i)c++;else if(ee(r,c,1),void 0!==i)break}l||(this.size=r.length),t.updateURL()},get:function(e){var t=M(this).entries;O(arguments.length,1);for(var n=I(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=M(this).entries;O(arguments.length,1);for(var n=I(e),r=[],o=0;o<t.length;o++)t[o].key===n&&Q(r,t[o].value);return r},has:function(e){for(var t=M(this).entries,n=O(arguments.length,1),r=I(e),o=n<2?void 0:arguments[1],a=void 0===o?o:I(o),i=0;i<t.length;){var c=t[i++];if(c.key===r&&(void 0===a||c.value===a))return!0}return!1},set:function(e,t){var n=M(this);O(arguments.length,1);for(var r,o=n.entries,a=!1,i=I(e),c=I(t),s=0;s<o.length;s++)(r=o[s]).key===i&&(a?ee(o,s--,1):(a=!0,r.value=c));a||Q(o,{key:i,value:c}),l||(this.size=o.length),n.updateURL()},sort:function(){var e=M(this);T(e.entries,function(e,t){return e.key>t.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,n=M(this).entries,r=x(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new me(this,"keys")},values:function(){return new me(this,"values")},entries:function(){return new me(this,"entries")}},{enumerable:!0}),d(ge,A,ge.entries,{name:"entries"}),d(ge,"toString",function(){return M(this).serialize()},{enumerable:!0}),l&&f(ge,"size",{get:function(){return M(this).entries.length},configurable:!0,enumerable:!0}),m(ve,P),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:ve}),!u&&y(U)){var ye=s(J.has),be=s(J.set),xe=function(e){if(E(e)){var t,n=e.body;if(w(n)===P)return t=e.headers?new U(e.headers):new U,ye(t,"content-type")||be(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:S(0,I(n)),headers:S(0,t)})}return e};if(y(H)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return H(e,arguments.length>1?xe(arguments[1]):{})}}),y(F)){var we=function(e){return g(this,D),new F(e,arguments.length>1?xe(arguments[1]):{})};D.constructor=we,we.prototype=D,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:we})}}e.exports={URLSearchParams:ve,getState:M}},8408:(e,t,n)=>{n(8406)},8429:(e,t,n)=>{var r=n(9039),o=n(4576).RegExp,a=r(function(){var e=o("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),i=a||r(function(){return!o("a","y").sticky}),c=a||r(function(){var e=o("^r","gy");return e.lastIndex=2,null!==e.exec("str")});e.exports={BROKEN_CARET:c,MISSED_STICKY:i,UNSUPPORTED_Y:a}},8459:(e,t,n)=>{var r=n(6518),o=n(3904);r({global:!0,forced:parseFloat!==o},{parseFloat:o})},8480:(e,t,n)=>{var r=n(1828),o=n(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},8551:(e,t,n)=>{var r=n(34),o=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(o(e)+" is not an object")}},8622:(e,t,n)=>{var r=n(4576),o=n(4901),a=r.WeakMap;e.exports=o(a)&&/native code/.test(String(a))},8686:(e,t,n)=>{var r=n(3724),o=n(9039);e.exports=r&&o(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8706:(e,t,n)=>{var r=n(6518),o=n(9039),a=n(4376),i=n(34),c=n(8981),s=n(6198),l=n(6837),u=n(4659),d=n(1469),f=n(597),p=n(8227),m=n(9519),h=p("isConcatSpreadable"),v=m>=51||!o(function(){var e=[];return e[h]=!1,e.concat()[0]!==e}),g=function(e){if(!i(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,arity:1,forced:!v||!f("concat")},{concat:function(e){var t,n,r,o,a,i=c(this),f=d(i,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(g(a=-1===t?i:arguments[t]))for(o=s(a),l(p+o),n=0;n<o;n++,p++)n in a&&u(f,p,a[n]);else l(p+1),u(f,p++,a);return f.length=p,f}})},8727:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:(e,t,n)=>{var r=n(616),o=Function.prototype,a=o.apply,i=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(a):function(){return i.apply(a,arguments)})},8773:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},8781:(e,t,n)=>{var r=n(350).PROPER,o=n(6840),a=n(8551),i=n(655),c=n(9039),s=n(1034),l="toString",u=RegExp.prototype,d=u[l],f=c(function(){return"/a/b"!==d.call({source:"a",flags:"b"})}),p=r&&d.name!==l;(f||p)&&o(u,l,function(){var e=a(this);return"/"+i(e.source)+"/"+i(s(e))},{unsafe:!0})},8814:(e,t,n)=>{var r=n(9039),o=n(4576).RegExp;e.exports=r(function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})},8921:(e,t,n)=>{var r=n(6518),o=n(8379);r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},8940:(e,t,n)=>{var r=n(6518),o=n(2703);r({global:!0,forced:parseInt!==o},{parseInt:o})},8981:(e,t,n)=>{var r=n(7750),o=Object;e.exports=function(e){return o(r(e))}},9039:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9085:(e,t,n)=>{var r=n(6518),o=n(4213);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},9167:(e,t,n)=>{var r=n(4576);e.exports=r},9213:(e,t,n)=>{var r=n(6080),o=n(9504),a=n(7055),i=n(8981),c=n(6198),s=n(1469),l=o([].push),u=function(e){var t=1===e,n=2===e,o=3===e,u=4===e,d=6===e,f=7===e,p=5===e||d;return function(m,h,v,g){for(var y,b,x=i(m),w=a(x),k=c(w),E=r(h,v),I=0,_=g||s,S=t?_(m,k):n||f?_(m,0):void 0;k>I;I++)if((p||I in w)&&(b=E(y=w[I],I,x),e))if(t)S[I]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return I;case 2:l(S,y)}else switch(e){case 4:return!1;case 7:l(S,y)}return d?-1:o||u?u:S}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},9225:(e,t,n)=>{var r,o,a,i,c=n(4576),s=n(8745),l=n(6080),u=n(4901),d=n(9297),f=n(9039),p=n(397),m=n(7680),h=n(4055),v=n(2812),g=n(9544),y=n(6193),b=c.setImmediate,x=c.clearImmediate,w=c.process,k=c.Dispatch,E=c.Function,I=c.MessageChannel,_=c.String,S=0,C={},B="onreadystatechange";f(function(){r=c.location});var L=function(e){if(d(C,e)){var t=C[e];delete C[e],t()}},O=function(e){return function(){L(e)}},j=function(e){L(e.data)},T=function(e){c.postMessage(_(e),r.protocol+"//"+r.host)};b&&x||(b=function(e){v(arguments.length,1);var t=u(e)?e:E(e),n=m(arguments,1);return C[++S]=function(){s(t,void 0,n)},o(S),S},x=function(e){delete C[e]},y?o=function(e){w.nextTick(O(e))}:k&&k.now?o=function(e){k.now(O(e))}:I&&!g?(i=(a=new I).port2,a.port1.onmessage=j,o=l(i.postMessage,i)):c.addEventListener&&u(c.postMessage)&&!c.importScripts&&r&&"file:"!==r.protocol&&!f(T)?(o=T,c.addEventListener("message",j,!1)):o=B in h("script")?function(e){p.appendChild(h("script"))[B]=function(){p.removeChild(this),L(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:b,clear:x}},9228:(e,t,n)=>{n(7495);var r=n(9565),o=n(6840),a=n(7323),i=n(9039),c=n(8227),s=n(6699),l=c("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var f=c(e),p=!i(function(){var t={};return t[f]=function(){return 7},7!==""[e](t)}),m=p&&!i(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t});if(!p||!m||n){var h=/./[f],v=t(f,""[e],function(e,t,n,o,i){var c=t.exec;return c===a||c===u.exec?p&&!i?{done:!0,value:r(h,t,n,o)}:{done:!0,value:r(e,n,t,o)}:{done:!1}});o(String.prototype,e,v[0]),o(u,f,v[1])}d&&s(u[f],"sham",!0)}},9296:(e,t,n)=>{var r=n(4055)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},9297:(e,t,n)=>{var r=n(9504),o=n(8981),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},9306:(e,t,n)=>{var r=n(4901),o=n(6823),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(o(e)+" is not a function")}},9432:(e,t,n)=>{var r=n(6518),o=n(8981),a=n(1072);r({target:"Object",stat:!0,forced:n(9039)(function(){a(1)})},{keys:function(e){return a(o(e))}})},9433:(e,t,n)=>{var r=n(4576),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9463:(e,t,n)=>{var r=n(6518),o=n(3724),a=n(4576),i=n(9504),c=n(9297),s=n(4901),l=n(1625),u=n(655),d=n(2106),f=n(7740),p=a.Symbol,m=p&&p.prototype;if(o&&s(p)&&(!("description"in m)||void 0!==p().description)){var h={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(m,this)?new p(e):void 0===e?p():p(e);return""===e&&(h[t]=!0),t};f(v,p),v.prototype=m,m.constructor=v;var g="Symbol(description detection)"===String(p("description detection")),y=i(m.valueOf),b=i(m.toString),x=/^Symbol\((.*)\)[^)]+$/,w=i("".replace),k=i("".slice);d(m,"description",{configurable:!0,get:function(){var e=y(this);if(c(h,e))return"";var t=b(e),n=g?k(t,7,-1):w(t,x,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},9504:(e,t,n)=>{var r=n(616),o=Function.prototype,a=o.call,i=r&&o.bind.bind(a,a);e.exports=r?i:function(e){return function(){return a.apply(e,arguments)}}},9519:(e,t,n)=>{var r,o,a=n(4576),i=n(2839),c=a.process,s=a.Deno,l=c&&c.versions||s&&s.version,u=l&&l.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},9539:(e,t,n)=>{var r=n(9565),o=n(8551),a=n(5966);e.exports=function(e,t,n){var i,c;o(e);try{if(!(i=a(e,"return"))){if("throw"===t)throw n;return n}i=r(i,e)}catch(e){c=!0,i=e}if("throw"===t)throw n;if(c)throw i;return o(i),n}},9544:(e,t,n)=>{var r=n(2839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},9565:(e,t,n)=>{var r=n(616),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},9617:(e,t,n)=>{var r=n(5397),o=n(5610),a=n(6198),i=function(e){return function(t,n,i){var c=r(t),s=a(c);if(0===s)return!e&&-1;var l,u=o(i,s);if(e&&n!=n){for(;s>u;)if((l=c[u++])!=l)return!0}else for(;s>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},9773:(e,t,n)=>{var r=n(6518),o=n(4495),a=n(9039),i=n(3717),c=n(8981);r({target:"Object",stat:!0,forced:!o||a(function(){i.f(1)})},{getOwnPropertySymbols:function(e){var t=i.f;return t?t(c(e)):[]}})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function c(n,r,o,i){var c=r&&r.prototype instanceof l?r:l,u=Object.create(c.prototype);return a(u,"_invoke",function(n,r,o){var a,i,c,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,i=0,c=e,f.n=n,s}};function p(n,r){for(i=n,c=r,t=0;!d&&l&&!o&&t<u.length;t++){var o,a=u[t],p=f.p,m=a[2];n>3?(o=m===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,f.v=r,f.n=a[1]):p<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,f.n=m,i=0))}if(o||n>1)return s;throw d=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,c=m;(t=i<2?e:c)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,c)):f.n=c:f.v=c);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(d=f.n<0)?c:n.call(r,f))!==s)break}catch(t){a=e,i=1,c=t}finally{l=1}}return{value:t,done:d}}}(n,o,i),!0),u}var s={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(a(t={},r,function(){return this}),t),p=d.prototype=l.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,a(p,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(p),a(p,i,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m}})()}function a(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,n,r){function i(t,n){a(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},a(e,t,n,r)}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)})}}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(2675),n(9463),n(2259),n(8706),n(3771),n(2008),n(113),n(3418),n(4423),n(3792),n(8921),n(2062),n(4782),n(4554),n(9085),n(4185),n(5506),n(875),n(9432),n(287),n(6099),n(8459),n(8940),n(3362),n(7495),n(8781),n(1415),n(1699),n(7764),n(1761),n(5440),n(5746),n(744),n(1392),n(2762),n(3500),n(2953),n(3296),n(7208),n(8408);var f,p=(0,supabase.createClient)("https://gfylsjfljnwyomfouwvs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdmeWxzamZsam53eW9tZm91d3ZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0MDc5MTYsImV4cCI6MjA3Mjk4MzkxNn0.hMvLvCDVaFtq0rXToHGOJPSFe-QnJ6_S-MYsI0d5zOs"),m=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],h=!1,v=!1,g=!1;function y(){gapi.load("client",Qt)}function b(){f=google.accounts.oauth2.initTokenClient({client_id:"903962440902-olb0km18p980o04na5hi4ah4f6lanms1.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/drive.file",callback:function(e){if(void 0!==e.error)throw $t("Authorization failed. Please try again."),e;en(!0),Vt("Google Drive access authorized.")}}),v=!0,Xt()}window.addEventListener("unhandledrejection",function(e){console.error("Unhandled Promise Rejection:",e.reason);var t="An unexpected error occurred. Please try again.";e.reason instanceof Error&&(t=e.reason.message.toLowerCase().includes("failed to fetch")||e.reason.message.toLowerCase().includes("network")?"Network error. Please check your connection.":e.reason.message),$t(t),e.preventDefault()}),window.gapiLoaded=y,window.gisLoaded=b;var x,w,k,E,I,_,S=setInterval(function(){"undefined"==typeof gapi||h||y(),"undefined"!=typeof google&&google.accounts&&!v&&b(),h&&v&&clearInterval(S)},100),C=null,B=[],L={},O={},j=null,T=null,A=[],P=[],R={},N=[],M=0,q="",H="",F=[],U=null,D=[],J=null,z=[],W=document.getElementById("vehicle-details-section"),G=document.getElementById("create-vehicle-section"),V=document.getElementById("new-complaint-section"),$=document.getElementById("search-error"),Z=(document.getElementById("prediction-list"),document.getElementById("update-details-section")),Y=document.getElementById("update-form-section");function Q(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(r){var o=new Image;o.onload=function(){var r=document.createElement("canvas"),a=1280/o.width;r.width=1280,r.height=o.height*a,r.getContext("2d").drawImage(o,0,0,r.width,r.height),r.toBlob(function(r){if(r){var o=e.name.substring(0,e.name.lastIndexOf("."))||e.name,a="".concat(o,".jpg");t(new File([r],a,{type:"image/jpeg",lastModified:Date.now()}))}else n(new Error("Canvas to Blob conversion failed"))},"image/jpeg",.85)},o.onerror=n,o.src=r.target.result},r.onerror=n,r.readAsDataURL(e)})}function K(e){return X.apply(this,arguments)}function X(){return(X=d(o().m(function e(t){var n,r,a;return o().w(function(e){for(;;)switch(e.n){case 0:return document.getElementById("scanner-status").innerHTML='\n                <svg class="animate-spin h-5 w-5 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>\n                <span>Analyzing with OCR...</span>',(n=new FormData).append("file",t),n.append("apikey","helloworld"),n.append("language","eng"),n.append("ocrengine",2),e.n=1,fetch("https://api.ocr.space/parse/image",{method:"POST",body:n});case 1:if((r=e.v).ok){e.n=2;break}throw new Error("API request failed with status ".concat(r.status));case 2:return e.n=3,r.json();case 3:if(!(a=e.v).IsErroredOnProcessing){e.n=4;break}throw new Error(a.ErrorMessage.join(" "));case 4:if(!(a.ParsedResults&&a.ParsedResults.length>0)){e.n=5;break}return e.a(2,a.ParsedResults[0].ParsedText);case 5:return e.a(2,"");case 6:return e.a(2)}},e)}))).apply(this,arguments)}function ee(e){if(!e)return null;for(var t=e.replace(/[\s\n\r\t.,!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~`]/g,"").toUpperCase(),n=0,r=[/\d{2}BH\d{4}[A-Z]{2}/,/[A-Z]{2}\d{1,2}[A-Z]{1,2}\d{4}/,/[A-Z]{2}\d{2}[A-Z]{1,2}\d{3}/,/[A-Z]{2}\d{2}[A-Z]{1,2}\d{1,4}/];n<r.length;n++){var o=r[n],a=t.match(o);if(a)return a[0]}return null}function te(){return(te=d(o().m(function e(t){var n,r,a,i,c,s;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=t.target.files[0]){e.n=1;break}return e.a(2);case 1:return Wt("scanner-modal"),r=document.getElementById("scanner-status"),(a=document.getElementById("analyze-btn")).disabled=!0,r.innerHTML='\n                <svg class="animate-spin h-5 w-5 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>\n                <span>Processing image...</span>',e.p=2,e.n=3,Q(n);case 3:i=e.v,U=i,(c=new FileReader).onload=function(e){document.getElementById("scanner-image-preview").src=e.target.result,r.textContent="Image loaded. Click below to analyze.",a.disabled=!1},c.readAsDataURL(i),e.n=5;break;case 4:e.p=4,s=e.v,console.error("Image processing error:",s),$t("Could not process the selected image."),ne();case 5:t.target.value="";case 6:return e.a(2)}},e,null,[[2,4]])}))).apply(this,arguments)}function ne(){document.getElementById("scanner-image-preview").src="",U=null,Gt("scanner-modal")}function re(){return(re=d(o().m(function e(){var t,n,r,a,i;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(U){e.n=1;break}return $t("No image selected to process."),e.a(2);case 1:return(t=document.getElementById("analyze-btn")).disabled=!0,e.p=2,e.n=3,K(U);case 3:n=e.v,(r=ee(n))?(a=se(r),document.getElementById("search-vehicle-number").value=a,Vt("Detected: ".concat(a)),ne(),Fe()):($t("Could not find a valid number plate in the image."),document.getElementById("scanner-status").textContent="No number plate found. Try a clearer shot.",t.disabled=!1),e.n=5;break;case 4:e.p=4,i=e.v,console.error("API Error:",i),$t("An error occurred during analysis: "+i.message),document.getElementById("scanner-status").textContent="An error occurred. Please try again.",t.disabled=!1;case 5:return e.a(2)}},e,null,[[2,4]])}))).apply(this,arguments)}function oe(){var e=document.getElementById("photo-previews");e.innerHTML="",0!==D.length&&D.forEach(function(t,n){var r=new FileReader;r.onload=function(t){var r=document.createElement("div");r.className="relative aspect-square group",r.innerHTML='\n                        <img src="'.concat(t.target.result,'" class="w-full h-full object-cover rounded-lg">\n                        <button onclick="removePhoto(').concat(n,')" class="absolute top-1 right-1 bg-red-600/80 text-white rounded-full h-6 w-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">\n                            <span class="material-symbols-outlined text-sm">close</span>\n                        </button>\n                    '),e.appendChild(r)},r.readAsDataURL(t)})}function ae(){return ie.apply(this,arguments)}function ie(){return ie=d(o().m(function e(){var t,n,r,a,i,c,s,l,u,d=arguments;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:"executive",navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.n=1;break}return $t("Audio recording is not supported on this browser."),e.a(2);case 1:return e.p=1,e.n=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:n=e.v,x=new MediaRecorder(n),z=[],x.addEventListener("dataavailable",function(e){z.push(e.data)}),x.addEventListener("stop",function(){J=new Blob(z,{type:"audio/webm"});var e=URL.createObjectURL(J),n="customer"===t?"customer-audio-playback":"audio-playback";document.getElementById(n).innerHTML='<audio controls src="'.concat(e,'" class="w-full"></audio>')}),x.start(),"executive"===t?(r=document.getElementById("record-toggle-btn"),a=document.getElementById("record-icon"),i=document.getElementById("record-text"),r.classList.add("is-recording"),r.classList.remove("btn-secondary"),a.textContent="stop_circle",i.textContent="Stop",document.getElementById("recording-status").textContent="Recording..."):(c=document.getElementById("cust-approval-record-btn"),s=document.getElementById("cust-approval-record-icon"),l=document.getElementById("cust-approval-record-text"),c.classList.add("is-recording"),c.classList.remove("btn-secondary"),s.textContent="stop_circle",l.textContent="Stop",document.getElementById("customer-recording-status").textContent="Recording..."),e.n=4;break;case 3:e.p=3,u=e.v,$t("Microphone access was denied."),console.error("Mic Error:",u);case 4:return e.a(2)}},e,null,[[1,3]])})),ie.apply(this,arguments)}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"executive";if(x)if(x.stop(),"executive"===e){var t=document.getElementById("record-toggle-btn"),n=document.getElementById("record-icon"),r=document.getElementById("record-text");t.classList.remove("is-recording"),t.classList.add("btn-secondary"),n.textContent="mic",r.textContent="Record Note",document.getElementById("recording-status").textContent="Recording stopped."}else{var o=document.getElementById("cust-approval-record-btn"),a=document.getElementById("cust-approval-record-icon"),i=document.getElementById("cust-approval-record-text");o.classList.remove("is-recording"),o.classList.add("btn-secondary"),a.textContent="mic",i.textContent="Record",document.getElementById("customer-recording-status").textContent="Recording stopped."}}var se=function(e){if(!e)return"";var t=e.replace(/[\s\W_]+/g,"").toUpperCase(),n=t.match(/^([A-Z]{2})(\d{1,2})([A-Z]{1,2})(\d{1,4})$/);if(n){var r=n[1],o=n[2],a=n[3],i=n[4];return 1===o.length&&(o="0"+o),"".concat(r).concat(o).concat(a).concat(i)}return t};function le(){return(le=d(o().m(function e(){var t,n,r,a;return o().w(function(e){for(;;)switch(e.n){case 0:if(t=document.getElementById("username").value.trim(),n=document.getElementById("password").value.trim(),t&&n){e.n=1;break}return e.a(2,$t("Username and password are required."));case 1:return e.n=2,p.from("users").select("*").ilike("username",t).single();case 2:if(r=e.v,a=r.data,!r.error&&a&&a.password===n){e.n=3;break}return e.a(2,$t("Invalid credentials."));case 3:if(C=a,sessionStorage.setItem("currentUser",JSON.stringify(C)),"admin"!==C.role){e.n=4;break}Jt("admin-dashboard-screen"),e.n=9;break;case 4:if("executive"!==C.role){e.n=6;break}return document.getElementById("profile-username").textContent=C.username,document.getElementById("profile-role").textContent=C.role,e.n=5,pt();case 5:zt("job-card-screen"),setTimeout(Xt,1e3),e.n=9;break;case 6:if("washer"!==C.role){e.n=7;break}Dt("washer-screen"),ue(),e.n=9;break;case 7:if("inspector"!==C.role){e.n=8;break}Dt("inspector-screen"),Ee(),e.n=9;break;case 8:return e.a(2,$t("Unknown user role."));case 9:Vt("Welcome, ".concat(C.username,"!"));case 10:return e.a(2)}},e)}))).apply(this,arguments)}function ue(){return de.apply(this,arguments)}function de(){return(de=d(o().m(function e(){var t,n,r,a;return o().w(function(e){for(;;)switch(e.n){case 0:return t=document.getElementById("wash-queue-list"),n=document.getElementById("no-wash-jobs-message"),t.innerHTML="",n.classList.add("hidden"),r=p.from("reports").select("\n            id,\n            vehicles!inner(vehicle_no, vehicle_name, color, vehicle_models(brand, model)),\n            executive:executive_id(username)\n        ").eq("status","Sent To Wash").order("created_at",{ascending:!0}),e.n=1,Zt(r,"Could not fetch wash queue.");case 1:if(null!==(a=e.v)){e.n=2;break}return e.a(2);case 2:if(0!==a.length){e.n=3;break}return n.classList.remove("hidden"),e.a(2);case 3:a.forEach(function(e){var n=document.createElement("div"),r=e.vehicles,o=e.executive,a="".concat(r.vehicle_models.brand||""," ").concat(r.vehicle_models.model||"").trim();n.className="p-4 border border-gray-200 rounded-lg flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",n.innerHTML='\n            <div class="w-full sm:w-auto text-left">\n                <p class="font-bold text-gray-800">'.concat(r.vehicle_no,'</p>\n                <p class="text-sm text-gray-600 mt-1">').concat(a,'</p>\n                <p class="text-xs text-gray-500 mt-1">From: ').concat((null==o?void 0:o.username)||"N/A",'</p>\n            </div>\n            <button onclick="completeWash(').concat(e.id,')" class="btn-primary w-full sm:w-auto flex-shrink-0 !py-2 !px-3">\n                <span class="material-symbols-outlined">check_circle</span>\n                <span>Wash Completed</span>\n            </button>\n        '),t.appendChild(n)});case 4:return e.a(2)}},e)}))).apply(this,arguments)}function fe(){return(fe=d(o().m(function e(t){var n,r;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,p.from("reports").update({status:"Wash Completed"}).eq("id",t);case 1:if(n=e.v,!(r=n.error)){e.n=2;break}return e.a(2,$t("Failed to update status: ".concat(r.message)));case 2:Vt("Status updated. Vehicle sent back to executive."),ue();case 3:return e.a(2)}},e)}))).apply(this,arguments)}function pe(){return me.apply(this,arguments)}function me(){return(me=d(o().m(function e(){var t,n,r;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,p.from("vehicle_models").select("*").order("brand");case 1:if(t=e.v,n=t.data,!t.error){e.n=2;break}return e.a(2,$t("Could not fetch vehicle models."));case 2:if(B=n,(r=document.getElementById("vehicle-models-list")).innerHTML="",0!==n.length){e.n=3;break}return r.innerHTML='<p class="text-sm text-gray-500">No vehicle models created yet.</p>',e.a(2);case 3:n.forEach(function(e){var t=document.createElement("div");t.className="flex items-center justify-between bg-gray-50 p-3 rounded-lg",t.innerHTML='<p class="font-semibold">'.concat(e.brand," - ").concat(e.model,"</p><button onclick=\"confirmDeletion('vehicle_model', ").concat(e.id,')" class="text-red-500 hover:text-red-700"><span class="material-symbols-outlined">delete</span></button>'),r.appendChild(t)});case 4:return e.a(2)}},e)}))).apply(this,arguments)}function he(e){["ready-to-close","inspection-pending","wash-pending","complete"].forEach(function(e){var t=document.getElementById("tab-btn-".concat(e)),n=document.getElementById("".concat(e,"-panel"));t&&t.classList.remove("active-tab"),n&&n.classList.add("hidden")});var t=document.getElementById("tab-btn-".concat(e)),n=document.getElementById("".concat(e,"-panel"));t&&t.classList.add("active-tab"),n&&n.classList.remove("hidden"),"ready-to-close"===e&&ve(),"inspection-pending"===e&&xe(),"wash-pending"===e&&Se(),"complete"===e&&Be()}function ve(){return ge.apply(this,arguments)}function ge(){return(ge=d(o().m(function e(){var t,n,r,a;return o().w(function(e){for(;;)switch(e.n){case 0:if(C){e.n=1;break}return e.a(2);case 1:if(t=document.getElementById("ready-to-close-list"),n=document.getElementById("no-ready-to-close-message"),t&&n){e.n=2;break}return e.a(2,console.error("Ready to close elements not found."));case 2:return t.innerHTML="",n.classList.add("hidden"),e.n=3,p.from("reports").select("id, vehicles!inner(vehicle_no, vehicle_models(brand, model))").eq("executive_id",C.id).eq("status","Ongoing").not("approved","is",null).neq("approved","[]");case 3:if(r=e.v,a=r.data,!r.error){e.n=4;break}return e.a(2,$t("Could not fetch ready jobs."));case 4:if(a&&0!==a.length){e.n=5;break}return n.classList.remove("hidden"),e.a(2);case 5:a.forEach(function(e){var n,r,o=document.createElement("div"),a="".concat((null===(n=e.vehicles.vehicle_models)||void 0===n?void 0:n.brand)||""," ").concat((null===(r=e.vehicles.vehicle_models)||void 0===r?void 0:r.model)||"").trim();o.className="p-4 border border-gray-200 rounded-lg flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",o.innerHTML='\n            <div class="w-full text-left">\n                <p class="font-bold text-gray-800">'.concat(e.vehicles.vehicle_no,'</p>\n                <p class="text-sm text-gray-600">').concat(a,'</p>\n            </div>\n            <div class="flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto flex-shrink-0">\n                <button onclick="updateJobStatus(').concat(e.id,", 'pending_inspection', '").concat(e.vehicles.vehicle_no,'\')" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-1.5 px-3 rounded text-sm w-full sm:w-auto">\n                    Send for Inspection\n                </button>\n                <button onclick="updateJobStatus(').concat(e.id,", 'Sent To Wash', '").concat(e.vehicles.vehicle_no,'\')" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-1.5 px-3 rounded text-sm w-full sm:w-auto">\n                    Skip & Wash\n                </button>\n            </div>\n        '),t.appendChild(o)});case 6:return e.a(2)}},e)}))).apply(this,arguments)}function ye(){ve(),xe(),Se(),Be()}function be(e){var t;document.getElementById("inspector-modal-vehicle-no").textContent=e.vehicles.vehicle_no,document.getElementById("inspector-modal-executive").textContent=(null===(t=e.executive)||void 0===t?void 0:t.username)||"N/A";var n=document.getElementById("inspector-modal-complaints");n.innerHTML="";var r=JSON.parse(e.complaint||"[]");if(r.length>0){var o=document.createElement("ul");o.className="list-disc list-inside space-y-1",r.forEach(function(e){var t=document.createElement("li");t.textContent=e.text||e,o.appendChild(t)}),n.appendChild(o)}else n.innerHTML='<p class="italic">No complaints registered.</p>';var a=document.getElementById("inspector-modal-suggestions");a.innerHTML="";var i=JSON.parse(e.suggested||"[]");if(i.length>0){var c=document.createElement("ul");c.className="list-disc list-inside space-y-1",i.forEach(function(e){var t=document.createElement("li");t.textContent="".concat(e.text," (₹").concat(e.amount||0,")"),c.appendChild(t)}),a.appendChild(c)}else a.innerHTML='<p class="italic">No mechanic suggestions added yet.</p>';document.getElementById("inspector-modal-actions").innerHTML="\n        <button onclick=\"handleInspection('".concat(e.id,"', 'rejected', '").concat(e.vehicles.vehicle_no,'\')" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded w-full sm:w-auto">\n            Reject\n        </button>\n        <button onclick="handleInspection(\'').concat(e.id,"', 'inspection_approved', '").concat(e.vehicles.vehicle_no,'\')" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded w-full sm:w-auto">\n            Approve\n        </button>\n    '),Wt("inspector-details-modal")}function xe(){return we.apply(this,arguments)}function we(){return(we=d(o().m(function e(){var t,n,r,a,i,c,s,l;return o().w(function(e){for(;;)switch(e.n){case 0:if(C){e.n=1;break}return e.a(2);case 1:if(t=document.getElementById("rejected-jobs-list"),n=document.getElementById("no-rejected-jobs-message"),r=document.getElementById("pending-inspection-list"),a=document.getElementById("no-inspection-pending-message"),t&&n&&r&&a){e.n=2;break}return e.a(2,console.error("Required elements for inspection tab are missing."));case 2:return t.innerHTML="",r.innerHTML="",n.classList.add("hidden"),a.classList.add("hidden"),e.n=3,p.from("reports").select("id, inspection_remarks, vehicles!inner(vehicle_no, vehicle_models(brand, model)), inspector:inspector_id(username)").eq("executive_id",C.id).eq("status","rejected");case 3:return i=e.v,c=i.data,i.error&&$t("Could not fetch rejected jobs."),c&&c.length>0?c.forEach(function(e){var n,r,o,a=document.createElement("div"),i="".concat((null===(n=e.vehicles.vehicle_models)||void 0===n?void 0:n.brand)||""," ").concat((null===(r=e.vehicles.vehicle_models)||void 0===r?void 0:r.model)||"").trim();a.className="p-4 border border-red-300 bg-red-50 rounded-lg",a.innerHTML='\n                <div class="flex justify-between items-start">\n                    <div>\n                        <p class="font-bold text-gray-800">'.concat(e.vehicles.vehicle_no,'</p>\n                        <p class="text-sm text-gray-600">').concat(i,'</p>\n                    </div>\n                    <button onclick="resendForInspection(').concat(e.id,')" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm flex-shrink-0">\n                        Resend for Inspection\n                    </button>\n                </div>\n                <div class="mt-2 pt-2 border-t border-red-200">\n                    <p class="text-sm text-red-800 font-semibold">Remarks from ').concat((null===(o=e.inspector)||void 0===o?void 0:o.username)||"Inspector",':</p>\n                    <p class="text-sm text-gray-600 italic">"').concat(e.inspection_remarks||"No remarks provided.",'"</p>\n                </div>\n            '),t.appendChild(a)}):n.classList.remove("hidden"),e.n=4,p.from("reports").select("id, vehicles!inner(vehicle_no, vehicle_models(brand, model))").eq("executive_id",C.id).eq("status","pending_inspection");case 4:s=e.v,l=s.data,s.error&&$t("Could not fetch pending jobs."),l&&l.length>0?l.forEach(function(e){var t,n,o=document.createElement("div"),a="".concat((null===(t=e.vehicles.vehicle_models)||void 0===t?void 0:t.brand)||""," ").concat((null===(n=e.vehicles.vehicle_models)||void 0===n?void 0:n.model)||"").trim();o.className="p-4 border border-gray-200 bg-gray-50 rounded-lg",o.innerHTML='\n                <div class="flex justify-between items-center">\n                    <div>\n                        <p class="font-bold text-gray-800">'.concat(e.vehicles.vehicle_no,'</p>\n                        <p class="text-sm text-gray-600">').concat(a,'</p>\n                    </div>\n                    <p class="text-sm text-gray-500 font-semibold">Sent to Inspector</p>\n                </div>\n            '),r.appendChild(o)}):a.classList.remove("hidden");case 5:return e.a(2)}},e)}))).apply(this,arguments)}function ke(){return(ke=d(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,p.from("reports").update({status:"pending_inspection"}).eq("id",t);case 1:if(!e.v.error){e.n=2;break}return e.a(2,$t("Failed to resend for inspection."));case 2:Vt("Job has been resent to the inspector."),xe();case 3:return e.a(2)}},e)}))).apply(this,arguments)}function Ee(){return Ie.apply(this,arguments)}function Ie(){return(Ie=d(o().m(function e(){var t,n,r,a;return o().w(function(e){for(;;)switch(e.n){case 0:return t=document.getElementById("inspection-queue-list"),n=document.getElementById("no-inspection-jobs-message"),t.innerHTML="",n.classList.add("hidden"),r=p.from("reports").select("id, complaint, suggested, inspection_remarks, vehicles!inner(vehicle_no, vehicle_name), executive:executive_id(username)").eq("status","pending_inspection").order("created_at",{ascending:!0}),e.n=1,Zt(r,"Could not fetch inspection queue.");case 1:if(null!==(a=e.v)&&0!==a.length){e.n=2;break}return n.classList.remove("hidden"),e.a(2);case 2:a.forEach(function(e){var n,r=document.createElement("div");r.className="p-4 border border-gray-200 rounded-lg flex justify-between items-center";var o=e.inspection_remarks&&""!==e.inspection_remarks.trim()?'<span class="ml-2 text-xs font-semibold text-orange-800 bg-orange-200 px-2 py-0.5 rounded-full">Re-inspection</span>':"",a=document.createElement("div");a.innerHTML='\n            <div class="flex items-center">\n                <p class="font-bold text-gray-800">'.concat(e.vehicles.vehicle_no,"</p>\n                ").concat(o,'\n            </div>\n            <p class="text-sm text-gray-600">').concat(e.vehicles.vehicle_name||"",'</p>\n            <p class="text-xs text-gray-500 mt-1">From: ').concat((null===(n=e.executive)||void 0===n?void 0:n.username)||"N/A","</p>\n        ");var i=document.createElement("button");i.className="btn-primary !w-auto !py-2 !px-4 flex-shrink-0",i.textContent="View Details",i.onclick=function(){return be(e)},r.appendChild(a),r.appendChild(i),t.appendChild(r)});case 3:return e.a(2)}},e)}))).apply(this,arguments)}function _e(){return(_e=d(o().m(function e(t,n){var r,a,i,c;return o().w(function(e){for(;;)switch(e.n){case 0:if(C){e.n=1;break}return e.a(2,$t("Session expired. Please log in."));case 1:if(r=document.getElementById("inspection-remarks-input").value.trim(),"rejected"!==n||r){e.n=2;break}return e.a(2,$t("Remarks are required when rejecting a job."));case 2:return"inspection_approved"===n&&(r=""),a={status:"inspection_approved"===n?"inspection_approved":"rejected",inspector_id:C.id,inspection_remarks:r,inspection_date:(new Date).toISOString()},e.n=3,p.from("reports").update(a).eq("id",t);case 3:if(i=e.v,c=i.error,Gt("inspection-remarks-modal"),!c){e.n=4;break}return e.a(2,$t("Failed to update status: ".concat(c.message)));case 4:Vt("Inspection status updated successfully."),Ee();case 5:return e.a(2)}},e)}))).apply(this,arguments)}function Se(){return Ce.apply(this,arguments)}function Ce(){return(Ce=d(o().m(function e(){var t,n,r,a;return o().w(function(e){for(;;)switch(e.n){case 0:if(C){e.n=1;break}return e.a(2);case 1:if(t=document.getElementById("wash-pending-list"),n=document.getElementById("no-wash-pending-message"),t&&n){e.n=2;break}return e.a(2,console.error("Wash pending elements not found."));case 2:return t.innerHTML="",n.classList.add("hidden"),e.n=3,p.from("reports").select("id, status, vehicles!inner(vehicle_no, vehicle_models(brand, model))").eq("executive_id",C.id).in("status",["inspection_approved","Sent To Wash"]);case 3:if(r=e.v,a=r.data,!r.error){e.n=4;break}return e.a(2,$t("Could not fetch jobs for wash."));case 4:if(a&&0!==a.length){e.n=5;break}return n.classList.remove("hidden"),e.a(2);case 5:a.forEach(function(e){var n,r,o=document.createElement("div"),a="".concat((null===(n=e.vehicles.vehicle_models)||void 0===n?void 0:n.brand)||""," ").concat((null===(r=e.vehicles.vehicle_models)||void 0===r?void 0:r.model)||"").trim();"inspection_approved"===e.status?(o.className="p-4 border border-yellow-300 bg-yellow-50 rounded-lg flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",o.innerHTML='\n                <div class="w-full text-left">\n                    <p class="font-bold text-gray-800">'.concat(e.vehicles.vehicle_no,'</p>\n                    <p class="text-sm text-gray-600">').concat(a,'</p>\n                </div>\n                <div class="flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto flex-shrink-0">\n                    <button onclick="updateJobStatus(').concat(e.id,", 'Sent To Wash', '").concat(e.vehicles.vehicle_no,'\')" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-1.5 px-3 rounded text-sm w-full sm:w-auto">\n                        Send for Wash\n                    </button>\n                    <button onclick="markCompletedDirectly(').concat(e.id,", '").concat(e.vehicles.vehicle_no,'\')" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-1.5 px-3 rounded text-sm w-full sm:w-auto">\n                        Skip & Complete\n                    </button>\n                </div>\n            ')):(o.className="p-4 border border-blue-300 bg-blue-50 rounded-lg flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",o.innerHTML='\n                <div class="w-full text-left">\n                    <p class="font-bold text-gray-800">'.concat(e.vehicles.vehicle_no,'</p>\n                    <p class="text-sm text-gray-600">').concat(a,'</p>\n                </div>\n                <div class="w-full sm:w-auto text-left sm:text-right">\n                     <p class="text-sm font-semibold text-blue-700">Currently in Wash</p>\n                </div>\n            ')),t.appendChild(o)});case 6:return e.a(2)}},e)}))).apply(this,arguments)}function Be(){return Le.apply(this,arguments)}function Le(){return(Le=d(o().m(function e(){var t,n,r,a;return o().w(function(e){for(;;)switch(e.n){case 0:if(C){e.n=1;break}return e.a(2);case 1:if(t=document.getElementById("complete-list"),n=document.getElementById("no-complete-message"),t&&n){e.n=2;break}return e.a(2,console.error("Complete tab elements not found"));case 2:return t.innerHTML="",n.classList.add("hidden"),e.n=3,p.from("reports").select("id, vehicles!inner(vehicle_no, vehicle_models(brand, model))").eq("executive_id",C.id).eq("status","Wash Completed").order("created_at",{ascending:!0});case 3:if(r=e.v,a=r.data,!r.error){e.n=4;break}return e.a(2,$t("Could not fetch completed wash jobs."));case 4:if(a&&0!==a.length){e.n=5;break}return n.classList.remove("hidden"),e.a(2);case 5:a.forEach(function(e){var n,r,o=document.createElement("div"),a="".concat((null===(n=e.vehicles.vehicle_models)||void 0===n?void 0:n.brand)||""," ").concat((null===(r=e.vehicles.vehicle_models)||void 0===r?void 0:r.model)||"").trim();o.className="p-4 border border-green-300 bg-green-50 rounded-lg flex justify-between items-center",o.innerHTML='\n            <div>\n                <p class="font-bold text-gray-800">'.concat(e.vehicles.vehicle_no,'</p>\n                <p class="text-sm text-gray-600">').concat(a,'</p>\n                <p class="text-sm text-green-700 font-semibold mt-1">Ready for delivery</p>\n            </div>\n            <button onclick="updateJobStatus(').concat(e.id,", 'Completed', '").concat(e.vehicles.vehicle_no,'\')" class="btn-primary !bg-green-600 hover:!bg-green-700 !w-auto !py-1.5 !px-3 text-sm">\n                <span class="material-symbols-outlined !text-base">check_circle</span> Mark Completed\n            </button>\n        '),t.appendChild(o)});case 6:return e.a(2)}},e)}))).apply(this,arguments)}function Oe(e){return e?e.trim().replace(/[\s-]+/g," ").toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "):""}function je(){return(je=d(o().m(function e(){var t,n,r,a,i,c,s;return o().w(function(e){for(;;)switch(e.n){case 0:if(t=Oe(document.getElementById("new-brand-admin").value),n=Oe(document.getElementById("new-model-admin").value),t&&n){e.n=1;break}return e.a(2,$t("Brand and model are required."));case 1:return e.n=2,p.from("vehicle_models").select("id").eq("brand",t).eq("model",n).maybeSingle();case 2:if(r=e.v,a=r.data,!(i=r.error)){e.n=3;break}return e.a(2,$t("Error checking for duplicates: ".concat(i.message)));case 3:if(!a){e.n=4;break}return e.a(2,$t("'".concat(t," - ").concat(n,"' already exists in the database.")));case 4:return e.n=5,p.from("vehicle_models").insert({brand:t,model:n});case 5:if(c=e.v,!(s=c.error)){e.n=6;break}return e.a(2,$t("Could not add model: ".concat(s.message)));case 6:document.getElementById("add-vehicle-model-form").reset(),Vt("Vehicle model added successfully."),pe();case 7:return e.a(2)}},e)}))).apply(this,arguments)}function Te(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=d(o().m(function e(t){var n,r,a,i;return o().w(function(e){for(;;)switch(e.n){case 0:return n="admin"===t?"admins-list":"executive"===t?"executives-list":"washer"===t?"washers-list":"inspectors-list",(r=document.getElementById(n)).innerHTML="",e.n=1,p.from("users").select("id, username, team").eq("role",t);case 1:if(a=e.v,i=a.data,!a.error){e.n=2;break}return e.a(2,$t("Could not fetch ".concat(t,"s.")));case 2:i.forEach(function(e){var n,o=document.createElement("div");o.className="flex items-center justify-between bg-gray-50 p-3 rounded-lg",n="executive"===t&&e.team?'\n                <div class="flex-grow flex justify-between items-center mr-4">\n                    <p class="font-semibold">'.concat(e.username,'</p>\n                    <span class="text-xs font-medium text-gray-700 bg-gray-200 px-2 py-1 rounded-full">').concat(e.team,"</span>\n                </div>"):'<p class="font-semibold flex-grow mr-4">'.concat(e.username,"</p>"),o.innerHTML="\n            ".concat(n,"\n            <button onclick=\"confirmDeletion('user', ").concat(e.id,", '").concat(t,'\')" class="text-red-500 hover:text-red-700 shrink-0">\n                <span class="material-symbols-outlined">delete</span>\n            </button>\n        '),r.appendChild(o)});case 3:return e.a(2)}},e)}))).apply(this,arguments)}function Pe(){return(Pe=d(o().m(function e(t){var n,r,a,i,c,s,l,u,d;return o().w(function(e){for(;;)switch(e.n){case 0:if(n="new-".concat(t,"-username"),r="new-".concat(t,"-pass"),a="add-".concat(t,"-form"),i=document.getElementById(n).value.trim(),c=document.getElementById(r).value.trim(),i&&c){e.n=1;break}return e.a(2,$t("Username and password are required."));case 1:if(s={username:i,password:c,role:t},"executive"!==t){e.n=3;break}if(l=document.getElementById("new-exec-team").value){e.n=2;break}return e.a(2,$t("Please select a team for the executive."));case 2:s.team=l;case 3:return e.n=4,p.from("users").insert(s);case 4:if(u=e.v,!(d=u.error)){e.n=5;break}return e.a(2,$t("Could not create ".concat(t,": ").concat(d.message)));case 5:Vt("".concat(t.charAt(0).toUpperCase()+t.slice(1)," created.")),document.getElementById(a).reset(),Te(t);case 6:return e.a(2)}},e)}))).apply(this,arguments)}function Re(){return Ne.apply(this,arguments)}function Ne(){return Ne=d(o().m(function e(){var t,n,r,a,i,c,s,l,u,d,f,m,h,v,g,y,b,x,w,k,E,I=arguments;return o().w(function(e){for(;;)switch(e.n){case 0:if(n=(t=I.length>0&&void 0!==I[0]&&I[0])?"admin-reports-screen":"report-screen",r=t?"admin-report-table-body":"report-table-body",a=document.querySelector("#".concat(n," .report-table")),i=document.getElementById(r),c=document.getElementById(t?"admin-no-reports-message":"no-reports-message"),s=[{key:"vehicle_no",label:"Vehicle No.",render:function(e){return"<button onclick='printJobCardById(".concat(e.id,')\' class="text-gray-500 hover:text-green-600 p-1 rounded-full shrink-0"><span class="material-symbols-outlined">download</span></button><span>').concat(e.vehicles.vehicle_no,"</span>")},className:"flex items-center gap-x-2"},{key:"vehicle_name",label:"Vehicle Name",render:function(e){return e.vehicles.vehicle_name||"N/A"}},{key:"model",label:"Model",render:function(e){return e.vehicles.vehicle_models.model}},{key:"brand",label:"Brand",render:function(e){return e.vehicles.vehicle_models.brand}},{key:"color",label:"Color",render:function(e){return e.vehicles.color||"N/A"}},{key:"engine_no",label:"Engine No",render:function(e){return e.vehicles.engine_no||"N/A"}},{key:"chassis_no",label:"Chassis No",render:function(e){return e.vehicles.chassis_no||"N/A"}},{key:"client_name",label:"Client Name",render:function(e){return e.client_name||"N/A"}},{key:"client_phone",label:"Client Phone",render:function(e){return e.client_phone||"N/A"}},{key:"odometer",label:"Odometer",render:function(e){return e.odometer_reading||"N/A"}},{key:"executive",label:"Executive",render:function(e){return e.executive?e.executive.username:"N/A"}},{key:"inspector",label:"Inspector",render:function(e){return e.inspector?e.inspector.username:"N/A"}},{key:"date_time",label:"Date & Time",render:function(e){return new Date(e.created_at).toLocaleString("en-GB")}},{key:"status",label:"Status",render:function(e){return'<span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full '.concat({Completed:"bg-green-100 text-green-800",Ongoing:"bg-orange-100 text-orange-800","Not Started":"bg-red-100 text-red-800",Cancelled:"bg-gray-200 text-gray-800","Sent To Wash":"bg-blue-100 text-blue-800","Wash Completed":"bg-purple-100 text-purple-800"}[e.status]||"bg-gray-100 text-gray-800",'">').concat(e.status,"</span>")}},{key:"complaint",label:"Complaint",render:function(e){return Rt(e.complaint)},className:"whitespace-normal max-w-xs truncate"},{key:"suggested",label:"Suggested",render:function(e){return Rt(e.suggested)},className:"whitespace-normal max-w-xs truncate"},{key:"approved",label:"Approved",render:function(e){return Rt(e.approved)},className:"whitespace-normal max-w-xs truncate"},{key:"feedback_text",label:"Feedback Text",render:function(e){return e.customer_feedback_text||"N/A"},className:"whitespace-normal max-w-xs truncate"},{key:"feedback_voice",label:"Feedback Voice",render:function(e){return e.customer_feedback_audio?'<audio controls src="'.concat(e.customer_feedback_audio,'" class="w-48 h-8"></audio>'):"N/A"}},{key:"marks",label:"Marks",render:function(e){return e.marks&&e.marks.length>2?"<button onclick='openMarksModal(".concat(JSON.stringify(e.marks),')\' class="px-2 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 text-xs">View</button>'):"N/A"}},{key:"media",label:"Media",render:function(e){return e.gdrive_folder_url?'<a href="'.concat(e.gdrive_folder_url,'" target="_blank" class="px-2 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 text-xs font-semibold">View Files</a>'):'<span class="text-xs text-gray-500">Not Uploaded</span>'}}],l=R.visible_report_columns||s.map(function(e){return e.key}),u=s.filter(function(e){return l.includes(e.key)}),(d=a.querySelector("thead"))||(d=document.createElement("thead"),a.prepend(d)),d.innerHTML="<tr>".concat(u.map(function(e){return"<th>".concat(e.label,"</th>")}).join(""),"</tr>"),f=document.getElementById(t?"admin-filter-from-date":"filter-from-date").value,m=document.getElementById(t?"admin-filter-to-date":"filter-to-date").value,h=document.getElementById(t?"admin-filter-vehicle-no":"filter-vehicle-no").value.trim().toUpperCase(),v=document.getElementById(t?"admin-filter-brand":"filter-brand").value.trim(),g=t?document.getElementById("admin-filter-exec-name").value.trim():"",y=[],!t||!g){e.n=4;break}return e.n=1,p.from("users").select("id").ilike("username","%".concat(g,"%"));case 1:if(b=e.v,x=b.data,!(w=b.error)){e.n=2;break}return $t("Could not search for executives.",w),e.a(2);case 2:if(0!==x.length){e.n=3;break}return i.innerHTML="",c.classList.remove("hidden"),e.a(2);case 3:y=x.map(function(e){return e.id});case 4:return k=p.from("reports").select("\n        id, created_at, status, complaint, suggested, approved, marks,\n        odometer_reading, client_name, client_phone,\n        gdrive_folder_url, customer_feedback_text, customer_feedback_audio,\n        vehicles!inner(\n          id, vehicle_no, vehicle_name, color, engine_no, chassis_no,\n          vehicle_models!inner(brand, model)\n        ),\n        executive:executive_id(username, id),\n        inspector:inspector_id(username, id)\n    ").order("created_at",{ascending:!1}),t?y.length>0&&(k=k.in("executive_id",y)):k=k.eq("executive_id",C.id),f&&(k=k.gte("created_at","".concat(f,"T00:00:00"))),m&&(k=k.lte("created_at","".concat(m,"T23:59:59"))),h&&(k=k.ilike("vehicles.vehicle_no","%".concat(h,"%"))),v&&(k=k.ilike("vehicles.vehicle_models.brand","%".concat(v,"%"))),e.n=5,Zt(k,"Failed to fetch reports.");case 5:if(null!==(E=e.v)){e.n=6;break}return e.a(2);case 6:if(L={},E.forEach(function(e){L[e.id]=e}),i.innerHTML="",0!==E.length){e.n=7;break}return c.classList.remove("hidden"),e.a(2);case 7:c.classList.add("hidden"),E.forEach(function(e){var t=document.createElement("tr");u.forEach(function(n){var r=document.createElement("td");n.className&&(r.className=n.className),"complaint"!==n.key&&"suggested"!==n.key&&"approved"!==n.key&&"feedback_text"!==n.key||(r.title=Rt(e[n.key])),r.innerHTML=n.render(e),t.appendChild(r)}),i.appendChild(t)});case 8:return e.a(2)}},e)})),Ne.apply(this,arguments)}function Me(){return qe.apply(this,arguments)}function qe(){return(qe=d(o().m(function e(){var t,n,r,a,i,c,s,l,u,d,f;return o().w(function(e){for(;;)switch(e.n){case 0:return t=document.getElementById("analytics-month-filter").value,n=document.getElementById("analytics-exec-filter").value,r=document.getElementById("analytics-exec-filter").selectedOptions[0].text,a=p.from("reports").select("status"),t&&(a=a.like("created_at","".concat(t,"%"))),n&&(a=a.eq("executive_id",n)),e.n=1,a;case 1:if(i=e.v,c=i.data,!i.error){e.n=2;break}return e.a(2,$t("Failed to get analytics data."));case 2:s=c.filter(function(e){return"Completed"===e.status}).length,l=c.length-s,u=c.length,d=u>0?(s/u*100).toFixed(1):0,f=u>0?(l/u*100).toFixed(1):0,document.getElementById("analytics-chart").innerHTML='\n                <div><div class="flex justify-between text-sm mb-1"><span class="font-medium text-green-600">Completed ('.concat(s,")</span><span>").concat(d,'%</span></div><div class="w-full bg-gray-200 rounded-full h-3"><div class="bg-green-500 h-3 rounded-full" style="width: ').concat(d,'%"></div></div></div>\n                <div><div class="flex justify-between text-sm mb-1"><span class="font-medium text-orange-600">Pending/Ongoing (').concat(l,")</span><span>").concat(f,'%</span></div><div class="w-full bg-gray-200 rounded-full h-3"><div class="bg-orange-500 h-3 rounded-full" style="width: ').concat(f,'%"></div></div></div>'),document.getElementById("analytics-title").textContent="".concat(n?r:"Overall"," Status for ").concat(t?new Date(t+"-02").toLocaleString("default",{month:"long",year:"numeric"}):"All Time");case 3:return e.a(2)}},e)}))).apply(this,arguments)}function He(){return(He=d(o().m(function e(){var t,n,r,a,i,s,l;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,p.from("users").select("id, username").eq("role","executive");case 1:if(t=e.v,n=t.data,!t.error){e.n=2;break}return e.a(2,$t("Could not load executives."));case 2:return(r=document.getElementById("analytics-exec-filter")).innerHTML='<option value="">All Executives</option>',n.forEach(function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.username,r.appendChild(t)}),e.n=3,p.from("reports").select("created_at");case 3:if(a=e.v,i=a.data,!a.error){e.n=4;break}return e.a(2,$t("Could not load report dates."));case 4:s=document.getElementById("analytics-month-filter"),l=c(new Set(i.map(function(e){return e.created_at.substring(0,7)}))),s.innerHTML='<option value="">All Months</option>',l.forEach(function(e){var t=document.createElement("option");t.value=e,t.textContent=new Date(e+"-02").toLocaleString("default",{month:"long",year:"numeric"}),s.appendChild(t)});case 5:return e.a(2)}},e)}))).apply(this,arguments)}function Fe(){return Ue.apply(this,arguments)}function Ue(){return(Ue=d(o().m(function e(){var t,n,r,a,i,c,s,l,u,d,f,m,h;return o().w(function(e){for(;;)switch(e.n){case 0:if(t=document.getElementById("search-vehicle-number").value,n=se(t),Nt(),n){e.n=1;break}return $t("Please enter a vehicle number."),e.a(2);case 1:return e.n=2,p.from("vehicles").select("\n            id, vehicle_no, fuel_type, odometer, client_name, client_phone, vehicle_name, color, engine_no, chassis_no,\n            vehicle_models ( brand, model )\n        ").eq("vehicle_no",n).single();case 2:if(r=e.v,a=r.data,r.error,i=document.getElementById("odometer-display-wrapper"),c=document.getElementById("client-name-wrapper"),s=document.getElementById("client-phone-wrapper"),!a){e.n=4;break}return e.n=3,p.from("reports").select("odometer_reading").eq("vehicle_id",a.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();case 3:d=e.v,f=d.data,(m=d.error)&&console.error("Error fetching latest odometer:",m),h=(null==f?void 0:f.odometer_reading)||a.odometer,j=a.id,M=h,q=a.client_name,H=a.client_phone,document.getElementById("detail-vehicle-number").textContent=a.vehicle_no,document.getElementById("detail-brand").textContent=(null===(l=a.vehicle_models)||void 0===l?void 0:l.brand)||"N/A",document.getElementById("detail-model").textContent=(null===(u=a.vehicle_models)||void 0===u?void 0:u.model)||"N/A",document.getElementById("detail-fuel-type").textContent=a.fuel_type||"N/A",document.getElementById("detail-vehicle-name").textContent=a.vehicle_name||"N/A",document.getElementById("detail-color").textContent=a.color||"N/A",document.getElementById("detail-engine-no").textContent=a.engine_no||"N/A",document.getElementById("detail-chassis-no").textContent=a.chassis_no||"N/A",c.innerHTML='<input type="text" id="detail-client-name-input" class="form-input" value="'.concat(a.client_name||"",'">'),s.innerHTML='<input type="tel" id="detail-client-phone-input" class="form-input" value="'.concat(a.client_phone||"",'" maxlength="10" oninput="this.value = this.value.replace(/[^0-9]/g, \'\');">'),i.innerHTML='<input type="number" id="detail-odometer-input" class="form-input" value="'.concat(h||0,'">'),document.getElementById("detail-odometer-input").addEventListener("blur",We),W.classList.remove("hidden"),V.classList.remove("hidden"),setTimeout(Ht,50),e.n=5;break;case 4:j=null,M=0,c.innerHTML='<p id="detail-client-name" class="font-semibold"></p>',s.innerHTML='<p id="detail-client-phone" class="font-semibold"></p>',i.innerHTML='<p id="detail-odometer" class="font-semibold"></p>',document.getElementById("new-vehicle-number").value=n,De(),G.classList.remove("hidden");case 5:return e.a(2)}},e)}))).apply(this,arguments)}function De(){return Je.apply(this,arguments)}function Je(){return(Je=d(o().m(function e(){var t,n,r;return o().w(function(e){for(;;)switch(e.n){case 0:if(0!==B.length){e.n=3;break}return e.n=1,p.from("vehicle_models").select("*");case 1:if(t=e.v,n=t.data,!t.error){e.n=2;break}return e.a(2,$t("Could not fetch vehicle models."));case 2:B=n;case 3:(r=document.getElementById("new-vehicle-brand-exec")).innerHTML='<option value="">Select Brand</option>',c(new Set(B.map(function(e){return e.brand}))).forEach(function(e){var t=document.createElement("option");t.value=e,t.textContent=e,r.appendChild(t)}),ze();case 4:return e.a(2)}},e)}))).apply(this,arguments)}function ze(){var e=document.getElementById("new-vehicle-brand-exec").value,t=document.getElementById("new-vehicle-model-exec");t.innerHTML='<option value="">Select Model</option>',B.filter(function(t){return t.brand===e}).forEach(function(e){var n=document.createElement("option");n.value=e.id,n.textContent=e.model,t.appendChild(n)})}function We(){var e=document.getElementById("detail-odometer-input"),t=document.getElementById("odometer-warning");parseInt(e.value)<M?(t.textContent="Reading is lower than last service!",t.classList.remove("hidden"),e.classList.add("border-red-500","focus:border-red-500","focus:ring-red-500"),setTimeout(function(){t.classList.add("hidden"),e.classList.remove("border-red-500","focus:border-red-500","focus:ring-red-500")},4e3)):(t.textContent="",t.classList.add("hidden"),e.classList.remove("border-red-500","focus:border-red-500","focus:ring-red-500"))}function Ge(){return(Ge=d(o().m(function e(){var t,n,r,a,i;return o().w(function(e){for(;;)switch(e.n){case 0:if(t=!0===R.show_full_vehicle_form,(n={vehicle_no:se(document.getElementById("new-vehicle-number").value),client_phone:document.getElementById("new-client-phone").value.trim(),client_name:document.getElementById("new-client-name").value.trim()}).client_name){e.n=1;break}return e.a(2,$t("Client Name is required."));case 1:if(/^\d{10}$/.test(n.client_phone)){e.n=2;break}return e.a(2,$t("Please enter a valid 10-digit phone number."));case 2:if(!t){e.n=4;break}if(Object.assign(n,{model_id:document.getElementById("new-vehicle-model-exec").value,fuel_type:document.getElementById("new-fuel-type").value,odometer:document.getElementById("new-odometer").value,vehicle_name:document.getElementById("new-vehicle-name").value.trim(),color:document.getElementById("new-color").value.trim(),engine_no:document.getElementById("new-engine-no").value.trim(),chassis_no:document.getElementById("new-chassis-no").value.trim()}),n.model_id&&n.fuel_type&&n.odometer&&n.engine_no&&n.chassis_no){e.n=3;break}return e.a(2,$t("Please fill all mandatory vehicle details."));case 3:e.n=5;break;case 4:n.odometer=0;case 5:return e.n=6,p.from("vehicles").insert(n).select().single();case 6:if(r=e.v,a=r.data,!(i=r.error)){e.n=7;break}return e.a(2,$t("Failed to create vehicle: ".concat(i.message),i));case 7:j=a.id,document.getElementById("create-vehicle-form").reset(),G.classList.add("hidden"),Vt("Vehicle created successfully!"),Fe();case 8:return e.a(2)}},e)}))).apply(this,arguments)}function Ve(){var e=document.getElementById("complaint-input"),t=e.value.trim();t&&(N.push({text:t,amount:0,type:"complaint"}),e.value="",$e()),e.focus()}function $e(){var e=document.getElementById("complaints-list");e.innerHTML="",0!==N.length?N.forEach(function(t,n){var r=document.createElement("div");r.className="flex items-center justify-between bg-gray-50 p-3 rounded-lg text-sm",r.innerHTML='\n            <p class="flex-1 mr-2 break-all">'.concat(t.text,'</p>\n            <button onclick="deleteComplaint(').concat(n,')" class="text-red-500 hover:text-red-700 shrink-0">\n                <span class="material-symbols-outlined">delete</span>\n            </button>\n        '),e.appendChild(r)}):e.innerHTML='<p class="text-sm text-gray-500">No complaints added yet.</p>'}function Ze(){return(Ze=d(o().m(function e(){var t;return o().w(function(e){for(;;)switch(e.n){case 0:if("yes"!==(t=document.getElementById("duplicate-confirmation-input")).value.trim().toLowerCase()){e.n=2;break}return Gt("duplicate-job-card-modal"),t.value="",e.n=1,Qe();case 1:e.n=3;break;case 2:$t("Confirmation text did not match. Please type 'yes' to proceed.");case 3:return e.a(2)}},e)}))).apply(this,arguments)}function Ye(){return(Ye=d(o().m(function e(){var t,n,r,a,i,c,s,l,u;return o().w(function(e){for(;;)switch(e.n){case 0:if(C){e.n=1;break}return console.error("saveComplaints: currentUser is null. Aborting."),e.a(2,$t("Session expired. Please log in again."));case 1:if(Ve(),0!==N.length){e.n=2;break}return e.a(2,$t("Please add at least one complaint."));case 2:if(j){e.n=3;break}return e.a(2,$t("No vehicle selected."));case 3:return(t=new Date).setHours(0,0,0,0),(n=new Date(t)).setDate(n.getDate()+1),e.n=4,p.from("users").select("id").eq("team",C.team);case 4:if(r=e.v,a=r.data,!r.error){e.n=5;break}return e.a(2,$t("Could not verify team data."));case 5:return i=a.map(function(e){return e.id}),e.n=6,p.from("reports").select("id, users!reports_executive_id_fkey ( username )").eq("vehicle_id",j).gte("created_at",t.toISOString()).lt("created_at",n.toISOString()).in("executive_id",i).maybeSingle();case 6:if(c=e.v,s=c.data,!(l=c.error)){e.n=7;break}return console.error("Error checking for existing report:",l),e.a(2,$t("Could not check for existing job cards. Please try again."));case 7:if(!s){e.n=8;break}return u=s.users?s.users.username:"another executive",document.getElementById("duplicate-modal-text").textContent="A job card for this vehicle was already created today by ".concat(u," from your team. Are you sure you want to create another one?"),Wt("duplicate-job-card-modal"),e.a(2);case 8:return e.n=9,Qe();case 9:return e.a(2)}},e)}))).apply(this,arguments)}function Qe(){return Ke.apply(this,arguments)}function Ke(){return Ke=d(o().m(function e(){var t,n,r,a,i,c,s,l,u,m,h,v,g,y,b,x,w,k,E,I,_;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!(t=D.length>0||J)||gapi.client.getToken()){e.n=1;break}return $t("Google Drive access required for media. Please authorize."),f.callback=function(){var e=d(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:if(void 0===t.error){e.n=1;break}throw $t("Authorization failed. Please try again."),t;case 1:return en(!0),Vt("Google Drive authorized. Now saving..."),e.n=2,Qe();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),f.requestAccessToken({prompt:"consent"}),e.a(2);case 1:if(n=document.getElementById("detail-odometer-input"),r=n.value,a=document.getElementById("detail-client-name-input").value.trim(),i=document.getElementById("detail-client-phone-input").value.trim(),/^\d{10}$/.test(i)){e.n=2;break}return e.a(2,$t("Please enter a valid 10-digit phone number for the client."));case 2:if(a){e.n=3;break}return e.a(2,$t("Client name cannot be empty."));case 3:return Vt("Saving report..."),e.n=4,p.from("reports").insert({vehicle_id:j,executive_id:C.id,complaint:JSON.stringify(N),status:"Not Started",marks:JSON.stringify(F),odometer_reading:r,client_name:a,client_phone:i}).select("id").single();case 4:if(c=e.v,s=c.data,!(l=c.error)){e.n=5;break}return console.error("Error saving report:",l),e.a(2,$t("Failed to save complaints: ".concat(l.message)));case 5:if(u=s.id,!t){e.n=12;break}return m=document.getElementById("detail-vehicle-number").textContent||"Vehicle-".concat(j),h="".concat(m,"_").concat(u),e.p=6,e.n=7,nn(h);case 7:return v=e.v,g=[],D.forEach(function(e,t){g.push(on(v,e,"photo_".concat(t+1,".jpg")))}),J&&g.push(on(v,J,"voice_note.webm")),e.n=8,Promise.all(g);case 8:return y="https://drive.google.com/drive/folders/".concat(v),e.n=9,p.from("reports").update({gdrive_folder_url:y}).eq("id",u);case 9:if(b=e.v,!(x=b.error)){e.n=10;break}throw x;case 10:Vt("Media uploaded successfully!"),e.n=12;break;case 11:e.p=11,_=e.v,console.error("Google Drive or DB Update Error:",_),$t("Report saved, but media upload failed. Check Google Drive authorization.");case 12:if(w={},(k=parseInt(r))>M&&(w.odometer=k),a!==q&&(w.client_name=a),i!==H&&(w.client_phone=i),!(Object.keys(w).length>0)){e.n=14;break}return e.n=13,p.from("vehicles").update(w).eq("id",j);case 13:E=e.v,(I=E.error)&&(console.error("Error updating vehicle details:",I),$t("Report saved, but failed to update vehicle details."));case 14:Vt("Job Card saved successfully!"),Mt();case 15:return e.a(2)}},e,null,[[6,11]])})),Ke.apply(this,arguments)}function Xe(){var e=document.getElementById("suggestion-input"),t=document.getElementById("suggestion-amount-input"),n=e.value.trim(),r=parseFloat(t.value)||0;if(n){P.push({text:n,amount:r,type:"suggestion"}),e.value="",t.value="";var o=[];document.querySelectorAll('#customer-approval-list input[type="checkbox"]:checked').forEach(function(e){try{o.push(JSON.parse(e.value))}catch(e){}}),nt(A,P,o)}e.focus()}function et(){var e=document.getElementById("cust-total-amount"),t=0;document.querySelectorAll('#approval-suggestions-list input[type="checkbox"]:checked').forEach(function(e){try{var n=JSON.parse(e.value);t+=n.amount||0}catch(e){}}),e&&(e.textContent="₹ ".concat(t.toFixed(2)))}function tt(){var e=document.getElementById("approx-total-amount"),t=0;document.querySelectorAll('#customer-approval-list input[type="checkbox"]:checked').forEach(function(e){try{var n=JSON.parse(e.value);n&&"number"==typeof n.amount&&(t+=n.amount)}catch(t){console.error("Could not parse checkbox value for total calculation:",e.value)}}),e.textContent="₹ ".concat(t.toFixed(2))}function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=document.getElementById("executive-suggestions-list"),o=document.getElementById("customer-complaints-list"),a=document.getElementById("customer-approval-list"),i=document.getElementById("tab-btn-pending").classList.contains("active-tab");o.innerHTML="",e.length>0?e.forEach(function(e){var t=e.text.replace(/"/g,"&quot;").replace(/'/g,"&#39;"),n=document.createElement("div");n.className="flex items-center justify-between gap-3 p-3 bg-gray-100 rounded-lg",n.innerHTML='\n                <div class="flex-1">\n                    <span class="font-medium break-words">'.concat(e.text,'</span>\n                </div>\n                <div class="flex items-center gap-1">\n                    <span class="font-bold text-gray-500">₹</span>\n                    <input type="number" class="form-input !py-1 !px-2 w-20 text-right" \n                           value="').concat(e.amount||0,'" placeholder="Cost"\n                           data-text="').concat(t,'" oninput="updateComplaintCost(this.dataset.text, this.value)">\n                </div>\n            '),o.appendChild(n)}):o.innerHTML='<p class="text-sm text-gray-500">No original complaints were registered.</p>',r.innerHTML="",t.length>0&&t.forEach(function(e,t){var n=document.createElement("div");n.className="flex items-center justify-between bg-gray-50 p-2 rounded-lg text-sm",n.innerHTML='\n                <p class="flex-1 mr-2">'.concat(e.text,' - <span class="font-bold">₹').concat(e.amount.toFixed(2),'</span></p>\n                <button type="button" onclick="deleteSuggestion(').concat(t,')" class="text-red-500 hover:text-red-700 shrink-0">\n                    <span class="material-symbols-outlined">delete</span>\n                </button>\n            '),r.appendChild(n)}),a.innerHTML="";var s=[].concat(c(e),c(t));if(s.length>0){var l=n.length>0;s.forEach(function(e){var t=!l||n.some(function(t){return(t.text||t)===e.text}),r="'".concat(JSON.stringify(e),"'"),o=e.text.replace(/"/g,"&quot;").replace(/'/g,"&#39;"),c=(e.materials,"complaint"===e.type),s=c?"bg-gray-100":"bg-blue-50",u=c?'<span class="text-xs text-gray-500">(Customer Request)</span>':'<span class="text-xs text-blue-600">(New Suggestion)</span>',d=document.createElement("div");d.className="p-3 ".concat(s," rounded-lg");var f="";if(l&&t&&!i){var p=(e.materials||"").split(/[,\n]/).map(function(e){return e.trim()}).filter(function(e){return e});f='\n        <div class="mt-2 pt-2 border-t border-gray-300/50">\n            <div class="flex items-center justify-between mb-1">\n                <label class="block text-xs font-medium text-gray-600">Material Requirements</label>\n                <button type="button" onclick="addMaterialField(\''.concat(o,'\')" class="p-1 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 shrink-0">\n                    <span class="material-symbols-outlined text-sm">add</span>\n                </button>\n            </div>\n            <div id="materials-container-').concat(o.replace(/\s+/g,"-"),'" class="space-y-1">\n                ').concat(p.length>0?p.map(function(e,t){return'\n                        <div class="flex items-center gap-2">\n                            <input type="text" class="form-input !py-1 !px-2 text-sm flex-1" \n                                   value="'.concat(e,'"\n                                   placeholder="e.g., Oil filter, 4L synthetic oil"\n                                   oninput="updateMaterialsFromInputs(\'').concat(o,'\')">\n                            <button type="button" onclick="removeMaterialField(this, \'').concat(o,'\')" class="p-1 text-red-500 hover:text-red-700 shrink-0">\n                                <span class="material-symbols-outlined text-sm">remove</span>\n                            </button>\n                        </div>\n                      ')}).join(""):'\n                        <div class="flex items-center gap-2">\n                            <input type="text" class="form-input !py-1 !px-2 text-sm flex-1" \n                                   value=""\n                                   placeholder="e.g., Oil filter, 4L synthetic oil"\n                                   oninput="updateMaterialsFromInputs(\''.concat(o,'\')">\n                            <button type="button" onclick="removeMaterialField(this, \'').concat(o,'\')" class="p-1 text-red-500 hover:text-red-700 shrink-0">\n                                <span class="material-symbols-outlined text-sm">remove</span>\n                            </button>\n                        </div>\n                      '),"\n            </div>\n        </div>\n    ")}d.innerHTML='\n                <label class="flex items-center gap-3 cursor-pointer">\n                    <input type="checkbox" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" \n                           value='.concat(r," \n                           ").concat(t?"checked":"",'\n                           onchange="handleCheckboxChange(this)">\n                    <div class="flex-1 flex justify-between items-center">\n                       <span class="font-medium break-all">').concat(e.text,'</span>\n                        <span class="font-bold text-gray-800">₹').concat((e.amount||0).toFixed(2),"</span>\n                    </div>\n                    ").concat(u,"\n                </label>\n                ").concat(f,"\n            "),a.appendChild(d)})}else a.innerHTML='<p class="text-sm text-gray-500">No complaints or suggestions available for approval.</p>';tt()}function rt(e){var t,n,r,o=e.replace(/\s+/g,"-"),a=document.getElementById("materials-container-".concat(o));if(a){var i=a.querySelectorAll("input");t=e,n=Array.from(i).map(function(e){return e.value.trim()}).filter(function(e){return e.length>0}).join(", "),(r=A.find(function(e){return e.text===t}))||(r=P.find(function(e){return e.text===t})),r&&(r.materials=n.trim())}}function ot(){return at.apply(this,arguments)}function at(){return(at=d(o().m(function e(){var t,n,a,i,c;return o().w(function(e){for(;;)switch(e.n){case 0:return(t=document.getElementById("settings-container")).innerHTML="",n={"Job Card Page":{"Feature Toggles":[{key:"enable_vehicle_scanner",type:"toggle",label:"Enable Vehicle Number Plate Scanner",description:"Allows executives to scan number plates."},{key:"show_full_vehicle_form",type:"toggle",label:'Show Full "Register New Vehicle" Form',description:"If off, only Vehicle No. and Phone are required."}]},"Report / Service History Page":{"Visible Columns":[{key:"visible_report_columns",type:"checkbox_group",label:"Select columns to display in the service history table.",options:[{key:"vehicle_no",label:"Vehicle No."},{key:"vehicle_name",label:"Vehicle Name"},{key:"model",label:"Model"},{key:"brand",label:"Brand"},{key:"color",label:"Color"},{key:"engine_no",label:"Engine No"},{key:"chassis_no",label:"Chassis No"},{key:"client_name",label:"Client Name"},{key:"client_phone",label:"Client Phone"},{key:"odometer",label:"Odometer"},{key:"executive",label:"Executive"},{key:"date_time",label:"Date & Time"},{key:"status",label:"Status"},{key:"complaint",label:"Complaint"},{key:"suggested",label:"Suggested"},{key:"approved",label:"Approved"},{key:"feedback_text",label:"Feedback Text"},{key:"feedback_voice",label:"Feedback Voice"},{key:"marks",label:"Marks"},{key:"media",label:"Media"}]}]}},a=p.from("app_settings").select("*"),e.n=1,Zt(a,"Could not fetch app settings.");case 1:if(null!==(i=e.v)){e.n=2;break}return e.a(2);case 2:c={},i.forEach(function(e){c[e.setting_key]=e.setting_value}),Object.entries(n).forEach(function(e){var n=r(e,2),o=n[0],a=n[1],i=document.createElement("div");i.className="card setting-card",i.innerHTML='<h2 class="text-xl font-bold mb-4 border-b pb-2" data-search-text="'.concat(o,'">').concat(o,"</h2>");var s=document.createElement("div");s.className="space-y-6",Object.entries(a).forEach(function(e){var t=r(e,2),n=t[0],o=t[1],a=document.createElement("div");a.className="setting-section",a.innerHTML='<h3 class="text-lg font-semibold text-gray-700" data-search-text="'.concat(n,'">').concat(n,"</h3>"),o.forEach(function(e){var t=document.createElement("div");if(t.className="setting-item pt-3",t.dataset.searchText="".concat(e.label," ").concat(e.description||"").toLowerCase(),"toggle"===e.type){var n=void 0===c[e.key]||c[e.key];t.innerHTML='\n                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">\n                                    <div>\n                                        <p class="font-semibold text-gray-800">'.concat(e.label,'</p>\n                                        <p class="text-xs text-gray-500">').concat(e.description,'</p>\n                                    </div>\n                                    <label class="relative inline-flex items-center cursor-pointer">\n                                        <input type="checkbox" ').concat(n?"checked":"",' class="sr-only peer" onchange="updateSetting(\'').concat(e.key,"', this.checked)\">\n                                        <div class=\"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                                    </label>\n                                </div>")}else if("checkbox_group"===e.type){var r=c[e.key];if("string"==typeof r)try{r=JSON.parse(r||"[]")}catch(e){r=[]}r=r||[];var o=e.options.map(function(e){return'\n                                <label class="flex items-center gap-2 p-2 bg-gray-50 rounded-md">\n                                    <input type="checkbox" value="'.concat(e.key,'" onchange="updateReportColumns()" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500" ').concat(r.includes(e.key)?"checked":"",'>\n                                    <span class="text-sm font-medium">').concat(e.label,"</span>\n                                </label>\n                            ")}).join("");t.innerHTML='\n                                <p class="text-sm text-gray-500 mb-2">'.concat(e.label,'</p>\n                                <div id="report-columns-checklist" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2">').concat(o,"</div>")}a.appendChild(t)}),s.appendChild(a)}),i.appendChild(s),t.appendChild(i)});case 3:return e.a(2)}},e)}))).apply(this,arguments)}function it(){return(it=d(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:return Wt("quick-access-modal"),e.n=1,ct();case 1:return e.a(2)}},e)}))).apply(this,arguments)}function ct(){return st.apply(this,arguments)}function st(){return(st=d(o().m(function e(){var t,n,r,a,i,c,s,l,u;return o().w(function(e){for(;;)switch(e.n){case 0:return(t=document.getElementById("quick-access-users")).innerHTML='<p class="text-center text-gray-500">Loading users...</p>',e.n=1,p.from("users").select("id, username, role, team").in("role",["executive","washer","inspector"]).order("role",{ascending:!0}).order("username",{ascending:!0});case 1:if(n=e.v,r=n.data,!n.error){e.n=2;break}return t.innerHTML='<p class="text-center text-red-500">Error loading users</p>',e.a(2);case 2:if(t.innerHTML="",0!==r.length){e.n=3;break}return t.innerHTML='<p class="text-center text-gray-500">No executives, washers, or inspectors found</p>',e.a(2);case 3:a=r.filter(function(e){return"executive"===e.role}),i=r.filter(function(e){return"washer"===e.role}),c=r.filter(function(e){return"inspector"===e.role}),a.length>0&&((s=document.createElement("div")).innerHTML='<h4 class="font-bold text-gray-700 mb-2">Executives</h4>',a.forEach(function(e){var t=document.createElement("button");t.className="w-full text-left p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors flex items-center gap-3";var n=e.team?'<span class="text-sm font-normal text-gray-600 ml-1">('.concat(e.team,")</span>"):"";t.innerHTML='\n                <span class="material-symbols-outlined text-blue-600">person</span>\n                <div><p class="font-semibold text-gray-800">'.concat(e.username," ").concat(n,'</p><p class="text-xs text-gray-500 capitalize">').concat(e.role,"</p></div>"),t.onclick=function(){return lt(e)},s.appendChild(t)}),t.appendChild(s)),c.length>0&&((l=document.createElement("div")).innerHTML='<h4 class="font-bold text-gray-700 mb-2 mt-4">Inspectors</h4>',c.forEach(function(e){var t=document.createElement("button");t.className="w-full text-left p-3 bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-colors flex items-center gap-3",t.innerHTML='\n                <span class="material-symbols-outlined text-yellow-600">fact_check</span>\n                <div><p class="font-semibold text-gray-800">'.concat(e.username,'</p><p class="text-xs text-gray-500 capitalize">').concat(e.role,"</p></div>"),t.onclick=function(){return lt(e)},l.appendChild(t)}),t.appendChild(l)),i.length>0&&((u=document.createElement("div")).innerHTML='<h4 class="font-bold text-gray-700 mb-2 mt-4">Washers</h4>',i.forEach(function(e){var t=document.createElement("button");t.className="w-full text-left p-3 bg-green-50 hover:bg-green-100 rounded-lg transition-colors flex items-center gap-3",t.innerHTML='\n                <span class="material-symbols-outlined text-green-600">local_car_wash</span>\n                <div><p class="font-semibold text-gray-800">'.concat(e.username,'</p><p class="text-xs text-gray-500 capitalize">').concat(e.role,"</p></div>"),t.onclick=function(){return lt(e)},u.appendChild(t)}),t.appendChild(u));case 4:return e.a(2)}},e)}))).apply(this,arguments)}function lt(e){return ut.apply(this,arguments)}function ut(){return(ut=d(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:if(sessionStorage.setItem("originalAdmin",JSON.stringify(C)),C=t,sessionStorage.setItem("currentUser",JSON.stringify(C)),Gt("quick-access-modal"),"executive"!==t.role){e.n=2;break}return document.getElementById("profile-username").textContent=t.username,document.getElementById("profile-role").textContent=t.role,e.n=1,pt();case 1:zt("job-card-screen"),Vt("Switched to executive: ".concat(t.username)),e.n=3;break;case 2:"washer"===t.role?(Dt("washer-screen"),ue(),Vt("Switched to washer: ".concat(t.username))):"inspector"===t.role&&(Dt("inspector-screen"),Ee(),Vt("Switched to inspector: ".concat(t.username)));case 3:return e.a(2)}},e)}))).apply(this,arguments)}function dt(){return(dt=d(o().m(function e(){var t,n,r,a;return o().w(function(e){for(;;)switch(e.n){case 0:return t=document.getElementById("report-columns-checklist"),n=[],t.querySelectorAll('input[type="checkbox"]:checked').forEach(function(e){n.push(e.value)}),e.n=1,p.from("app_settings").update({setting_value:JSON.stringify(n)}).eq("setting_key","visible_report_columns");case 1:r=e.v,(a=r.error)?$t("Failed to update column settings.",a):(Vt("Column visibility updated!"),R.visible_report_columns=n);case 2:return e.a(2)}},e)}))).apply(this,arguments)}function ft(){return(ft=d(o().m(function e(t,n){var r,a;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,p.from("app_settings").upsert({setting_key:t,setting_value:n},{onConflict:"setting_key"});case 1:r=e.v,(a=r.error)?($t("Failed to update setting: ".concat(a.message)),ot()):(Vt("Setting updated!"),R[t]=n);case 2:return e.a(2)}},e)}))).apply(this,arguments)}function pt(){return mt.apply(this,arguments)}function mt(){return(mt=d(o().m(function e(){var t,n;return o().w(function(e){for(;;)switch(e.n){case 0:return R={enable_vehicle_scanner:!0,show_full_vehicle_form:!0,visible_report_columns:["vehicle_no","client_name","executive","date_time","status","media"]},t=p.from("app_settings").select("*"),e.n=1,Zt(t,"Failed to load app settings.");case 1:(n=e.v)&&n.forEach(function(e){try{R[e.setting_key]="string"==typeof e.setting_value&&(e.setting_value.startsWith("[")||e.setting_value.startsWith("{"))?JSON.parse(e.setting_value):e.setting_value}catch(t){console.error("Failed to parse setting ".concat(e.setting_key),t)}}),ht();case 2:return e.a(2)}},e)}))).apply(this,arguments)}function ht(){var e=document.querySelector("button[onclick=\"document.getElementById('image-upload-input').click()\"]");if(e&&(e.style.display=R.enable_vehicle_scanner?"flex":"none"),document.getElementById("create-vehicle-form")){var t=!0===R.show_full_vehicle_form;["new-vehicle-name","new-vehicle-brand-exec","new-vehicle-model-exec","new-color","new-fuel-type","new-engine-no","new-chassis-no","new-odometer"].forEach(function(e){var n=document.getElementById(e),r=n.parentElement;r&&(r.style.display=t?"block":"none"),n&&(n.required=t)})}}function vt(e){document.querySelectorAll("#update-tab-container .tab-button").forEach(function(e){return e.classList.remove("active-tab")}),document.querySelectorAll("#update-tab-container .tab-panel").forEach(function(e){return e.classList.add("hidden")});var t={pending:{btn:"tab-btn-pending",panel:"pending-jobs-panel",func:bt},awaiting:{btn:"tab-btn-awaiting",panel:"awaiting-response-panel",func:Et},responses:{btn:"tab-btn-responses",panel:"responses-received-panel",func:wt}};t[e]&&(document.getElementById(t[e].btn).classList.add("active-tab"),document.getElementById(t[e].panel).classList.remove("hidden"),t[e].func())}function gt(){return(gt=d(o().m(function e(){var t,n,r,a,i,s;return o().w(function(e){for(;;)switch(e.n){case 0:if(T){e.n=1;break}return e.a(2,$t("No report selected for update."));case 1:if(t=document.getElementById("delivery-date").value){e.n=2;break}return e.a(2,$t("Please select an expected delivery date."));case 2:return n=[],document.querySelectorAll('#customer-approval-list input[type="checkbox"]:checked').forEach(function(e){try{n.push(JSON.parse(e.value))}catch(e){}}),r=[].concat(c(A),c(P)),a={complaint:JSON.stringify(A),suggested:JSON.stringify(r),approved:JSON.stringify(n),status:"Ongoing",expected_delivery:t},e.n=3,p.from("reports").update(a).eq("id",T);case 3:if(i=e.v,!(s=i.error)){e.n=4;break}return e.a(2,$t("Failed to save update: ".concat(s.message)));case 4:Vt("Update saved successfully!"),qt();case 5:return e.a(2)}},e)}))).apply(this,arguments)}function yt(){return(yt=d(o().m(function e(){var t,n,r,a,i,s,l,u,d,f,m,h,v;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(T){e.n=1;break}return e.a(2,$t("No report is currently selected."));case 1:return e.p=1,Vt("Saving and preparing link..."),n=[].concat(c(A),c(P)),e.n=2,p.from("reports").update({suggested:JSON.stringify(n),status:"Ongoing"}).eq("id",T);case 2:if(r=e.v,!(a=r.error)){e.n=3;break}throw a;case 3:return e.n=4,p.from("reports").select("client_phone, vehicles(*)").eq("id",T).single();case 4:if(i=e.v,s=i.data,!(l=i.error)){e.n=5;break}throw l;case 5:if(u=s.client_phone||(null===(t=s.vehicles)||void 0===t?void 0:t.client_phone)){e.n=6;break}return e.a(2,$t("Cannot send: Client phone number is missing for this job card."));case 6:d="".concat(window.location.origin).concat(window.location.pathname,"?report_id=").concat(T),f="Dear Customer,\n\nPlease review and approve the suggested repairs for your vehicle using the link below:\n".concat(d,"\n\nThank you,\nAutoFix Service"),m=encodeURIComponent(f),h="https://wa.me/91".concat(u,"?text=").concat(m),window.location.href=h,Vt("Approval link sent! Job moved to 'Awaiting Response'."),qt(),e.n=8;break;case 7:e.p=7,v=e.v,console.error("Error in sendApprovalLink:",v),$t("An error occurred: ".concat(v.message));case 8:return e.a(2)}},e,null,[[1,7]])}))).apply(this,arguments)}function bt(){return xt.apply(this,arguments)}function xt(){return(xt=d(o().m(function e(){var t,n,r,a,i;return o().w(function(e){for(;;)switch(e.n){case 0:if(C){e.n=1;break}return console.error("populateNotStartedJobs: currentUser is null. Cannot fetch data."),document.getElementById("no-pending-jobs-message").classList.remove("hidden"),e.a(2);case 1:return t=document.getElementById("not-started-jobs-list"),n=document.getElementById("no-pending-jobs-message"),t.innerHTML="",n.classList.add("hidden"),e.n=2,p.from("reports").select("id, created_at, complaint, approved, suggested, customer_feedback_text, customer_feedback_audio, vehicles!inner(vehicle_no, vehicle_name, color, vehicle_models(brand, model))").eq("executive_id",C.id).eq("status","Not Started").order("created_at",{ascending:!1});case 2:if(r=e.v,a=r.data,!(i=r.error)){e.n=3;break}return console.error("Error fetching not started jobs:",i),$t("Could not fetch pending job cards."),e.a(2);case 3:if(a&&0!==a.length){e.n=4;break}return n.classList.remove("hidden"),e.a(2);case 4:O={},a.forEach(function(e){O[e.id]=e;var n=document.createElement("div"),r=e.vehicles,o=r.vehicle_models?r.vehicle_models.brand:"",a=r.vehicle_models?r.vehicle_models.model:"",i=r.vehicle_name||"",c=r.color||"",s=new Date(e.created_at).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),l=[i,"".concat(o," ").concat(a).trim(),c].filter(function(e){return e}).join(" &bull; ");n.className="p-4 border border-gray-200 rounded-lg hover:shadow-md hover:border-blue-500 transition-all flex justify-between items-center",n.innerHTML='\n                    <div class="flex-grow cursor-pointer" onclick="selectReportForUpdateById('.concat(e.id,')">\n                        <div class="flex items-center gap-4">\n                            <p class="font-bold text-gray-800">').concat(r.vehicle_no,'</p>\n                            <p class="text-xs font-medium text-gray-500">').concat(s,'</p>\n                        </div>\n                        <p class="text-sm text-gray-600 mt-1">').concat(l,'</p>\n                        <p class="text-xs text-gray-500 mt-1 break-words"><strong>Complaint:</strong> ').concat(Rt(e.complaint),'</p>\n                    </div>\n                    <div class="menu-container">\n                        <button class="menu-button p-2 rounded-full hover:bg-gray-100">\n                            <span class="material-symbols-outlined text-gray-500">more_vert</span>\n                        </button>\n                        <div class="dropdown-menu">\n                            <a onclick="openCancelModal(').concat(e.id,", '").concat(r.vehicle_no,'\')" class="dropdown-item">\n                                <span class="material-symbols-outlined text-red-500">cancel</span>\n                                <span>Cancel Job</span>\n                            </a>\n                        </div>\n                    </div>\n                '),t.appendChild(n)});case 5:return e.a(2)}},e)}))).apply(this,arguments)}function wt(){return kt.apply(this,arguments)}function kt(){return(kt=d(o().m(function e(){var t,n,r,a,i;return o().w(function(e){for(;;)switch(e.n){case 0:return t=document.getElementById("customer-response-list"),n=document.getElementById("no-customer-response-message"),t.innerHTML="",n.classList.add("hidden"),e.n=1,p.from("reports").select("id, complaint, approved, suggested, customer_feedback_text, customer_feedback_audio, vehicles!inner(vehicle_no, vehicle_name, color, vehicle_models(brand, model))").eq("executive_id",C.id).eq("status","Ongoing").not("approved","is",null).neq("approved","[]").order("created_at",{ascending:!1});case 1:if(r=e.v,a=r.data,!(i=r.error)){e.n=2;break}return console.error("Error fetching customer response jobs:",i),e.a(2,$t("Could not fetch jobs with customer responses."));case 2:if(a&&0!==a.length){e.n=3;break}return n.classList.remove("hidden"),e.a(2);case 3:a.forEach(function(e){O[e.id]=e;var n=document.createElement("div"),r=JSON.parse(e.approved||"[]").length;n.className="p-4 border border-gray-200 rounded-lg hover:shadow-md hover:border-green-500 transition-all flex justify-between items-center";var o=e.vehicles,a=o.vehicle_models?o.vehicle_models.brand:"",i=o.vehicle_models?o.vehicle_models.model:"";n.innerHTML='\n                    <div class="flex-grow cursor-pointer" onclick="selectReportForUpdateById('.concat(e.id,')">\n                        <div class="flex justify-between items-center">\n                            <p class="font-bold text-gray-800">').concat(o.vehicle_no,'</p>\n                            <p class="text-xs text-gray-500 italic">').concat(a," ").concat(i,'</p>\n                        </div>\n                        <p class="text-sm text-green-700 font-semibold mt-1">').concat(r,' service(s) approved</p>\n                    </div>\n                    <div class="menu-container">\n                        <button class="menu-button p-2 rounded-full hover:bg-gray-100">\n                            <span class="material-symbols-outlined text-gray-500">more_vert</span>\n                        </button>\n                        <div class="dropdown-menu">\n                            <a onclick="openCancelModal(').concat(e.id,", '").concat(o.vehicle_no,'\')" class="dropdown-item">\n                                <span class="material-symbols-outlined text-red-500">cancel</span>\n                                <span>Cancel Job</span>\n                            </a>\n                        </div>\n                    </div>\n                '),t.appendChild(n)});case 4:return e.a(2)}},e)}))).apply(this,arguments)}function Et(){return It.apply(this,arguments)}function It(){return(It=d(o().m(function e(){var t,n,r,a,i;return o().w(function(e){for(;;)switch(e.n){case 0:return t=document.getElementById("awaiting-response-list"),n=document.getElementById("no-awaiting-response-message"),t.innerHTML="",n.classList.add("hidden"),e.n=1,p.from("reports").select("id, complaint, approved, suggested, customer_feedback_text, customer_feedback_audio, vehicles!inner(vehicle_no, vehicle_name, color, vehicle_models(brand, model))").eq("executive_id",C.id).eq("status","Ongoing").not("suggested","is",null).or("approved.is.null,approved.eq.[]").order("created_at",{ascending:!1});case 1:if(r=e.v,a=r.data,!(i=r.error)){e.n=2;break}return console.error("Error fetching awaiting response jobs:",i),e.a(2,$t("Could not fetch jobs awaiting customer response."));case 2:if(a&&0!==a.length){e.n=3;break}return n.classList.remove("hidden"),e.a(2);case 3:a.forEach(function(e){O[e.id]=e;var n=document.createElement("div"),r=e.vehicles,o=r.vehicle_models?r.vehicle_models.brand:"",a=r.vehicle_models?r.vehicle_models.model:"";n.className="p-4 border border-gray-200 rounded-lg hover:shadow-md hover:border-blue-500 transition-all flex justify-between items-center",n.innerHTML='\n                    <div class="flex-grow cursor-pointer" onclick="selectReportForUpdateById('.concat(e.id,')">\n                        <div class="flex justify-between items-center w-full">\n                             <p class="font-bold text-gray-800">').concat(r.vehicle_no,'</p>\n                             <p class="text-xs text-gray-500 italic ml-4">').concat(o," ").concat(a,'</p>\n                        </div>\n                        <p class="text-sm text-blue-700 font-semibold mt-1">Approval sent to customer</p>\n                    </div>\n                     <div class="menu-container">\n                        <button class="menu-button p-2 rounded-full hover:bg-gray-100">\n                            <span class="material-symbols-outlined text-gray-500">more_vert</span>\n                        </button>\n                        <div class="dropdown-menu">\n                            <a onclick="openCancelModal(').concat(e.id,", '").concat(r.vehicle_no,'\')" class="dropdown-item">\n                                <span class="material-symbols-outlined text-red-500">cancel</span>\n                                <span>Cancel Job</span>\n                            </a>\n                        </div>\n                    </div>\n                '),t.appendChild(n)});case 4:return e.a(2)}},e)}))).apply(this,arguments)}function _t(){return(_t=d(o().m(function e(t,n,r){return o().w(function(e){for(;;)switch(e.n){case 0:if("Completed"!==n){e.n=1;break}document.getElementById("complete-modal-text").textContent="Are you sure you want to mark the job for vehicle ".concat(r," as completed?"),document.getElementById("confirm-complete-button").onclick=function(){return St(t,r)},Wt("complete-confirmation-modal"),e.n=4;break;case 1:return e.n=2,p.from("reports").update({status:n}).eq("id",t);case 2:if(!e.v.error){e.n=3;break}return e.a(2,$t("Failed to update status."));case 3:Vt("Status for ".concat(r," updated to ").concat(n)),setTimeout(ye,500);case 4:return e.a(2)}},e)}))).apply(this,arguments)}function St(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=d(o().m(function e(t,n){var r,a,i,c,s,l,u;return o().w(function(e){for(;;)switch(e.n){case 0:if("yes"===(r=document.getElementById("complete-confirmation-input")).value.trim().toLowerCase()){e.n=1;break}return e.a(2,$t("Confirmation text did not match. Please type 'yes' to proceed."));case 1:return e.n=2,p.from("reports").update({status:"Completed"}).eq("id",t);case 2:if(a=e.v,i=a.error,r.value="",Gt("complete-confirmation-modal"),!i){e.n=3;break}return e.a(2,$t("Failed to update status."));case 3:return Vt("Job for ".concat(n," marked as Completed!")),e.n=4,p.from("reports").select("client_phone").eq("id",t).single();case 4:if(c=e.v,s=c.data,!(l=c.error)&&s&&s.client_phone){e.n=5;break}return console.error("Could not fetch client phone number for feedback message.",l),he("complete"),e.a(2);case 5:u=s.client_phone,document.getElementById("confirm-feedback-send-button").onclick=function(){return Bt(t,u,n)},Wt("whatsapp-feedback-modal"),he("complete");case 6:return e.a(2)}},e)}))).apply(this,arguments)}function Bt(e,t,n){var r="".concat(window.location.origin).concat(window.location.pathname,"?feedback_id=").concat(e),o="Dear Customer,\nThank you for choosing AutoFix for your vehicle ".concat(n,".\nWe would be grateful if you could share your experience with us by clicking the link below:\n").concat(r,"\nYour feedback helps us improve our service."),a=encodeURIComponent(o),i="https://wa.me/91".concat(t,"?text=").concat(a);window.open(i,"_blank"),Gt("whatsapp-feedback-modal")}function Lt(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=d(o().m(function e(t){var n,r,a;return o().w(function(e){for(;;)switch(e.n){case 0:return document.querySelectorAll(".screen").forEach(function(e){return e.classList.remove("active-screen")}),document.getElementById("customer-feedback-screen").classList.add("active-screen"),e.n=1,p.from("reports").select("vehicles(vehicle_no)").eq("id",t).single();case 1:if(n=e.v,r=n.data,!(a=n.error)&&r){e.n=2;break}return console.error("Error fetching report for feedback:",a),document.getElementById("feedback-form-content").innerHTML='<p class="text-center text-red-600">Could not load report details. The link may be invalid.</p>',e.a(2);case 2:document.getElementById("feedback-vehicle-no").textContent=r.vehicles.vehicle_no;case 3:return e.a(2)}},e)}))).apply(this,arguments)}function jt(){return(jt=d(o().m(function e(){var t,n,r,a,i;return o().w(function(e){for(;;)switch(e.n){case 0:if(t=new URLSearchParams(window.location.search),n=t.get("feedback_id")){e.n=1;break}return e.a(2,alert("Error: Report ID not found. Your session may be invalid."));case 1:if(r=document.getElementById("customer-feedback-input").value.trim()){e.n=2;break}return e.a(2,alert("Please enter your feedback before submitting."));case 2:return e.n=3,p.from("reports").update({customer_feedback_text:r}).eq("id",n);case 3:if(a=e.v,!(i=a.error)){e.n=4;break}return console.error("Error submitting feedback:",i),e.a(2,alert("Sorry, there was an error submitting your feedback. Please try again."));case 4:document.getElementById("feedback-form-content").classList.add("hidden"),document.getElementById("feedback-success-message").classList.remove("hidden");case 5:return e.a(2)}},e)}))).apply(this,arguments)}function Tt(){return(Tt=d(o().m(function e(t,n){var r,a,i,c;return o().w(function(e){for(;;)switch(e.n){case 0:if("cancel"===(r=document.getElementById("cancel-confirmation-input")).value.trim().toLowerCase()){e.n=1;break}return e.a(2,$t("Confirmation text did not match. Please type 'cancel' to proceed."));case 1:return e.n=2,p.from("reports").update({status:"Cancelled"}).eq("id",t);case 2:if(a=e.v,i=a.error,r.value="",Gt("cancel-confirmation-modal"),!i){e.n=3;break}return e.a(2,$t("Failed to cancel job: ".concat(i.message)));case 3:Vt("Job for ".concat(n," has been cancelled.")),(c=document.querySelector(".tab-button.active-tab"))&&("tab-btn-pending"===c.id?bt():"tab-btn-awaiting"===c.id?Et():"tab-btn-responses"===c.id&&wt());case 4:return e.a(2)}},e)}))).apply(this,arguments)}function At(){return(At=d(o().m(function e(){var t,n,r;return o().w(function(e){for(;;)switch(e.n){case 0:if(t=document.getElementById("current-password").value,n=document.getElementById("new-password").value,r=document.getElementById("confirm-new-password").value,n===r){e.n=1;break}return e.a(2,$t("New passwords do not match."));case 1:if(C.password===t){e.n=2;break}return e.a(2,$t("Incorrect current password."));case 2:return e.n=3,p.from("users").update({password:n}).eq("id",C.id);case 3:if(!e.v.error){e.n=4;break}return e.a(2,$t("Could not reset password."));case 4:Vt("Password reset successfully!"),C.password=n,sessionStorage.setItem("currentUser",JSON.stringify(C)),document.querySelector("#profile-screen form").reset();case 5:return e.a(2)}},e)}))).apply(this,arguments)}function Pt(){return(Pt=d(o().m(function e(t,n,r){var a,i,c;return o().w(function(e){for(;;)switch(e.n){case 0:if("user"!==t){e.n=2;break}return e.n=1,p.from("users").delete().eq("id",n);case 1:i=e.v,a=i.error,e.n=4;break;case 2:if("vehicle_model"!==t){e.n=4;break}return e.n=3,p.from("vehicle_models").delete().eq("id",n);case 3:c=e.v,a=c.error;case 4:if(Gt("delete-confirmation-modal"),!a){e.n=5;break}return e.a(2,$t("Deletion failed: ".concat(a.message)));case 5:Vt("Item deleted successfully."),"user"===t&&Te(r),"vehicle_model"===t&&pe();case 6:return e.a(2)}},e)}))).apply(this,arguments)}var Rt=function(e){if(!e||"[]"===e)return"N/A";try{var t=JSON.parse(e);return Array.isArray(t)&&t.length>0?"object"===i(t[0])&&null!==t[0]&&"text"in t[0]?t.map(function(e){return e.text}).join(", "):t.join(", "):"N/A"}catch(t){return e}};function Nt(){W.classList.add("hidden"),G.classList.add("hidden"),V.classList.add("hidden"),$.classList.add("hidden")}function Mt(){Nt(),document.getElementById("search-vehicle-number").value="",document.getElementById("create-vehicle-form").reset(),j=null,N=[],$e(),document.getElementById("client-name-wrapper").innerHTML='<p id="detail-client-name" class="font-semibold"></p>',document.getElementById("client-phone-wrapper").innerHTML='<p id="detail-client-phone" class="font-semibold"></p>',document.getElementById("odometer-display-wrapper").innerHTML='<p id="detail-odometer" class="font-semibold"></p>',Ft(),D=[],J=null,document.getElementById("photo-previews").innerHTML="",document.getElementById("audio-playback").innerHTML="",document.getElementById("recording-status").textContent=""}function qt(){document.getElementById("update-details-section").classList.add("hidden"),document.getElementById("update-form-section").classList.add("hidden"),document.getElementById("update-tab-container").classList.remove("hidden"),document.getElementById("delivery-date").value="",P=[],T=null,nt(),vt("pending")}function Ht(){w&&k&&E&&requestAnimationFrame(function(){var e=w.clientWidth,t=w.clientHeight;0!==e&&0!==t&&(k.width=e,k.height=t,E.width=e,E.height=t,_.drawImage(w,0,0,e,t),Ut(k,F))})}function Ft(){I&&I.clearRect(0,0,k.width,k.height),F=[]}function Ut(e,t){var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),t&&t.forEach(function(e){n.fillStyle="red",n.beginPath(),n.arc(e.x,e.y,5,0,2*Math.PI),n.fill()})}function Dt(e){document.querySelectorAll(".screen").forEach(function(e){return e.classList.remove("active-screen")}),document.getElementById(e).classList.add("active-screen")}function Jt(e){document.querySelectorAll("#admin-screens .admin-screen").forEach(function(e){return e.style.display="none"}),document.getElementById(e).style.display="block","admin-vehicle-management-screen"===e&&pe(),"admin-reports-screen"===e&&Re(!0),"admin-analytics-screen"===e&&(function(){He.apply(this,arguments)}(),Me()),"admin-executive-management-screen"===e&&Te("executive"),"admin-admin-management-screen"===e&&Te("admin"),"admin-washer-management-screen"===e&&Te("washer"),"admin-inspector-management-screen"===e&&Te("inspector"),"admin-settings-screen"===e&&ot(),Dt("admin-screens")}function zt(e){var t,n;document.querySelectorAll("#executive-screens .executive-screen").forEach(function(e){return e.style.display="none"}),document.getElementById(e).style.display="block",t=e,n=document.getElementById("executive-header-title"),document.querySelectorAll(".nav-item").forEach(function(e){var r=e.dataset.target===t;e.classList.toggle("active",r),r&&(n.textContent=e.querySelector("span:last-child").textContent)}),"report-screen"===e&&Re(!1),"due-date-screen"===e&&he("ready-to-close"),"job-card-screen"===e&&Mt(),"vehicle-update-screen"===e&&qt(),Dt("executive-screens")}function Wt(e){var t;null===(t=document.getElementById(e))||void 0===t||t.classList.remove("modal-hidden")}function Gt(e){var t;null===(t=document.getElementById(e))||void 0===t||t.classList.add("modal-hidden")}function Vt(e){var t=document.getElementById("success-message");document.getElementById("success-text").textContent=e,t.classList.remove("hidden"),setTimeout(function(){return t.classList.add("hidden")},3e3)}function $t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&console.error('Error shown to user: "'.concat(e,'"'),t);var n=document.getElementById("error-message");document.getElementById("error-text").textContent=e,n.classList.remove("hidden"),setTimeout(function(){return n.classList.add("hidden")},4e3)}function Zt(e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=d(o().m(function e(t,n){var r,a,i;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t;case 1:if(r=e.v,a=r.data,!(i=r.error)){e.n=2;break}return $t(n,i),e.a(2,null);case 2:return e.a(2,a)}},e)}))).apply(this,arguments)}function Qt(){return Kt.apply(this,arguments)}function Kt(){return(Kt=d(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,gapi.client.init({apiKey:"AIzaSyDq39bo-QQRWbPWM0qWcolswBdkBpiLR3w",discoveryDocs:m});case 1:h=!0,Xt();case 2:return e.a(2)}},e)}))).apply(this,arguments)}function Xt(){h&&v&&sessionStorage.getItem("currentUser")&&en(null!==gapi.client.getToken())}function en(e){var t=document.getElementById("auth-button"),n=document.getElementById("signout-button");t&&n&&(e?(n.classList.remove("hidden"),t.textContent="Google Drive Authorized",t.disabled=!0):(n.classList.add("hidden"),t.textContent="Authorize Google Drive",t.disabled=!1))}function tn(){if("undefined"!=typeof gapi&&gapi.client){var e=gapi.client.getToken();null!==e&&google.accounts.oauth2.revoke(e.access_token,function(){gapi.client.setToken(""),en(!1)})}else console.log("Google API not loaded")}function nn(e){return rn.apply(this,arguments)}function rn(){return(rn=d(o().m(function e(t){var n,r;return o().w(function(e){for(;;)switch(e.n){case 0:return n={name:t,mimeType:"application/vnd.google-apps.folder",parents:["1jmD_XBl_4a_FEvT3xQ9RKgH7-26gmM30"]},e.n=1,gapi.client.drive.files.create({resource:n,fields:"id"});case 1:return r=e.v,e.a(2,r.result.id)}},e)}))).apply(this,arguments)}function on(e,t,n){return an.apply(this,arguments)}function an(){return(an=d(o().m(function e(t,n,r){var a,i,c;return o().w(function(e){for(;;)switch(e.n){case 0:return a={name:r,parents:[t]},(i=new FormData).append("metadata",new Blob([JSON.stringify(a)],{type:"application/json"})),i.append("file",n),e.n=1,fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:new Headers({Authorization:"Bearer "+gapi.client.getToken().access_token}),body:i});case 1:return c=e.v,e.a(2,c.json())}},e)}))).apply(this,arguments)}function cn(e){return sn.apply(this,arguments)}function sn(){return(sn=d(o().m(function e(t){var n,r,a,i,c,s;return o().w(function(e){for(;;)switch(e.n){case 0:return document.getElementById("login-screen").style.display="none",document.getElementById("admin-screens").style.display="none",document.getElementById("executive-screens").style.display="none",document.getElementById("customer-approval-screen").classList.add("active-screen"),e.n=1,p.from("reports").select("suggested, approved, vehicles ( vehicle_no )").eq("id",t).single();case 1:if(n=e.v,r=n.data,!(a=n.error)&&r){e.n=2;break}return console.error("Error fetching report for approval:",a),document.getElementById("approval-content").innerHTML='<p class="text-center text-red-600">Could not load report details. The link may be invalid.</p>',e.a(2);case 2:if(document.getElementById("approval-vehicle-no").textContent=r.vehicles.vehicle_no,r.approved&&"[]"!==r.approved)document.getElementById("approval-content").classList.add("hidden"),(i=document.getElementById("approval-success-message")).querySelector("h3").textContent="Response Already Submitted",i.querySelector("p").textContent="Thank you, we have already received your feedback for this service request.",i.classList.remove("hidden"),document.querySelector("#customer-approval-card h2").textContent="Response Received";else{(c=document.getElementById("approval-suggestions-list")).innerHTML="";try{(s=JSON.parse(r.suggested||"[]")).length>0?s.forEach(function(e){var t="complaint"===e.type,n=document.createElement("label"),r=t?"bg-gray-100":"bg-blue-50",o=t?'<span class="text-xs text-gray-500">(Your Request)</span>':'<span class="text-xs text-blue-600">(Mechanic Suggestion)</span>',a='<span class="font-bold text-gray-800 shrink-0">₹'.concat((e.amount||0).toFixed(2),"</span>"),i="'".concat(JSON.stringify(e),"'");n.className="flex items-center gap-3 p-3 ".concat(r," rounded-lg cursor-pointer hover:bg-gray-200 transition-colors"),n.innerHTML='\n                                <input type="checkbox" value='.concat(i,' class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500" onchange="updateCustomerTotal()">\n                                <div class="flex-1 flex justify-between items-center gap-3">\n                                     <span class="text-sm font-medium break-words">').concat(e.text,"</span>\n                                     ").concat(a,"\n                                </div>\n                                ").concat(o,"\n                            "),c.appendChild(n)}):c.innerHTML='<p class="text-sm text-gray-500">No specific repairs were suggested.</p>'}catch(e){console.error("Error parsing items for approval:",e),c.innerHTML='<p class="text-sm text-red-500">Could not display suggested repairs.</p>'}et()}case 3:return e.a(2)}},e)}))).apply(this,arguments)}function ln(){return(ln=d(o().m(function e(){var t,n,r,a,i,c,s,l,u,d,f,m,h;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=new URLSearchParams(window.location.search),n=t.get("report_id")){e.n=1;break}return e.a(2,$t("Invalid session. Report ID not found."));case 1:if(r=[],document.querySelectorAll('#approval-suggestions-list input[type="checkbox"]:checked').forEach(function(e){try{r.push(JSON.parse(e.value))}catch(e){}}),a=document.getElementById("customer-feedback-text").value.trim(),i={approved:JSON.stringify(r),customer_feedback_text:a},Vt("Submitting your response..."),!J){e.n=6;break}return e.p=2,c="feedback_audio/report_".concat(n,"_").concat(Date.now(),".webm"),e.n=3,p.storage.from("autofix-media").upload(c,J);case 3:if(s=e.v,!(l=s.error)){e.n=4;break}throw l;case 4:u=p.storage.from("autofix-media").getPublicUrl(c),d=u.data,i.customer_feedback_audio=d.publicUrl,e.n=6;break;case 5:return e.p=5,h=e.v,console.error("Audio upload error:",h),$t("Could not upload your voice note. Please try again."),e.a(2);case 6:return e.n=7,p.from("reports").update(i).eq("id",n);case 7:if(f=e.v,!(m=f.error)){e.n=8;break}return console.error("Error submitting feedback:",m),e.a(2,$t("Failed to submit your response. Please try again."));case 8:document.getElementById("approval-content").classList.add("hidden"),document.getElementById("approval-success-message").classList.remove("hidden");case 9:return e.a(2)}},e,null,[[2,5]])}))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",d(o().m(function e(){var t,n,r,a;return o().w(function(e){for(;;)switch(e.n){case 0:if(t=new URLSearchParams(window.location.search),n=t.get("report_id"),r=t.get("feedback_id"),!n){e.n=1;break}cn(n),e.n=6;break;case 1:if(!r){e.n=2;break}Lt(r),e.n=6;break;case 2:if(!(a=sessionStorage.getItem("currentUser"))){e.n=6;break}if("admin"!==(C=JSON.parse(a)).role){e.n=3;break}Jt("admin-dashboard-screen"),e.n=6;break;case 3:if("executive"!==C.role){e.n=5;break}return document.getElementById("profile-username").textContent=C.username,document.getElementById("profile-role").textContent=C.role,e.n=4,pt();case 4:zt("job-card-screen"),e.n=6;break;case 5:"washer"===C.role&&(Dt("washer-screen"),ue());case 6:w=document.getElementById("carImage"),k=document.getElementById("damageCanvas"),E=document.getElementById("checkCanvas"),w&&k&&E&&(I=k.getContext("2d"),_=E.getContext("2d",{willReadFrequently:!0}),w.onload=Ht,window.addEventListener("resize",Ht),k.addEventListener("click",function(e){if(_){var t=k.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;_.getImageData(n,r,1,1).data[3]>0&&(I.fillStyle="red",I.beginPath(),I.arc(n,r,5,0,2*Math.PI),I.fill(),F.push({x:n,y:r}))}}));case 7:return e.a(2)}},e)}))),window.login=function(){return le.apply(this,arguments)},window.logout=function(){var e=sessionStorage.getItem("originalAdmin");e?(C=JSON.parse(e),sessionStorage.setItem("currentUser",JSON.stringify(C)),sessionStorage.removeItem("originalAdmin"),Jt("admin-dashboard-screen"),Vt("Returned to admin dashboard")):(C=null,sessionStorage.removeItem("currentUser"),document.getElementById("username").value="",document.getElementById("password").value="","undefined"!=typeof gapi&&gapi.client&&gapi.client.getToken&&tn(),Dt("login-screen"))},window.searchVehicle=Fe,window.createVehicle=function(){return Ge.apply(this,arguments)},window.addComplaint=Ve,window.deleteComplaint=function(e){N.splice(e,1),$e()},window.saveComplaints=function(){return Ye.apply(this,arguments)},window.addSuggestion=function(){if(document.getElementById("suggestion-input").value.trim())if(g){Wt("change-confirmation-modal");var e=document.getElementById("confirm-change-button");document.getElementById("cancel-change-button"),e.onclick=function(){Gt("change-confirmation-modal"),Xe()}}else Xe()},window.deleteSuggestion=function(e){P.splice(e,1);var t=[];document.querySelectorAll('#customer-approval-list input[type="checkbox"]:checked').forEach(function(e){try{t.push(JSON.parse(e.value))}catch(n){t.push(e.value)}}),nt(A,P,t)},window.saveVehicleUpdate=function(){return gt.apply(this,arguments)},window.sendApprovalLink=function(){return yt.apply(this,arguments)},window.handleImageUpload=function(e){return te.apply(this,arguments)},window.handlePhotoUploads=function(e){var t,n=e.target.files;n&&((t=D).push.apply(t,c(Array.from(n))),oe(),e.target.value="")},window.removePhoto=function(e){D.splice(e,1),oe()},window.handleRecordingToggle=function(){x&&"recording"===x.state?ce("executive"):ae("executive")},window.handleCustomerApprovalRecordingToggle=function(){x&&"recording"===x.state?ce("customer"):ae("customer")},window.analyzeImageWithAPI=function(){return re.apply(this,arguments)},window.closeScannerModal=ne,window.populateModelDropdown=ze,window.addVehicleModel=function(){return je.apply(this,arguments)},window.addUser=function(e){return Pe.apply(this,arguments)},window.confirmDeletion=function(e,t,n){document.getElementById("delete-confirmation-modal");var r=document.getElementById("delete-modal-text"),o=document.getElementById("confirm-delete-button"),a="";"user"===e?a="Are you sure you want to delete this ".concat(n,"? This action cannot be undone."):"vehicle_model"===e&&(a="Are you sure you want to delete this vehicle model? This may affect existing records."),r.textContent=a,o.onclick=function(){return function(e,t,n){return Pt.apply(this,arguments)}(e,t,n)},Wt("delete-confirmation-modal")},window.resetPassword=function(){return At.apply(this,arguments)},window.showAdminScreen=Jt,window.showExecutiveScreen=zt,window.applyReportFilters=function(){Re(!1)},window.clearReportFilters=function(){document.getElementById("report-filters").querySelectorAll("input, select").forEach(function(e){return e.value=""}),document.getElementById("filter-to-date").min="",document.getElementById("filter-from-date").max="",Re(!1)},window.applyAdminReportFilters=function(){Re(!0)},window.clearAdminReportFilters=function(){document.getElementById("admin-report-filters").querySelectorAll("input, select").forEach(function(e){return e.value=""}),document.getElementById("admin-filter-to-date").min="",document.getElementById("admin-filter-from-date").max="",Re(!0)},window.renderAnalytics=Me,window.downloadReport=function(){var e=document.getElementById("admin-screens").classList.contains("active-screen")?document.querySelector("#admin-reports-screen .report-table"):document.querySelector("#report-screen .report-table");if(e){var t=e.querySelectorAll("tr");if(t.length<=1)$t("No data available to download.");else{var n=[],r=function(e){var t=e.replace(/"/g,'""');return t.search(/("|,|\n)/g)>=0&&(t='"'.concat(t,'"')),t},o=[];t[0].querySelectorAll("th").forEach(function(e){o.push(r(e.textContent.trim()))}),n.push(o.join(","));for(var a=1;a<t.length;a++){for(var i=[],c=t[a].querySelectorAll("td"),s=0;s<c.length;s++)0===s?i.push(r(c[s].querySelector("span:last-child").textContent.trim())):c[s].querySelector("button")||c[s].querySelector("audio")?i.push("See in App"):i.push(r(c[s].textContent.trim()));n.push(i.join(","))}var l=new Blob([n.join("\n")],{type:"text/csv"}),u=document.createElement("a"),d=(new Date).toISOString().slice(0,10);u.download="AutoFix_Report_".concat(d,".csv"),u.href=window.URL.createObjectURL(l),u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u),Vt("Report is downloading...")}}else $t("Could not find the report table.")},window.handleAuthClick=function(){null===gapi.client.getToken()&&f.requestAccessToken({prompt:"consent"})},window.handleSignoutClick=tn,window.submitCustomerFeedback=function(){return ln.apply(this,arguments)},window.submitCustomerTextFeedback=function(){return jt.apply(this,arguments)},window.showUpdateTab=vt,window.selectReportForUpdateById=function(e){var t=O[e];t?function(e){g=!1;var t=document.getElementById("customer-complaints-update-section");document.getElementById("tab-btn-responses").classList.contains("active-tab")?t.classList.add("hidden"):t.classList.remove("hidden"),document.getElementById("update-tab-container").classList.add("hidden"),T=e.id,document.getElementById("update-detail-number").textContent=e.vehicles.vehicle_no,Z.classList.remove("hidden"),Y.classList.remove("hidden");try{var n=e.suggested?JSON.parse(e.suggested):null;if(n&&n.length>0)A=n.filter(function(e){return"complaint"===e.type}),P=n.filter(function(e){return"suggestion"===e.type});else{var r=JSON.parse(e.complaint||"[]");A=r.map(function(e){return"string"==typeof e?{text:e,amount:0,type:"complaint"}:e}),P=[]}}catch(e){console.error("Error parsing complaint/suggestion data:",e),A=[],P=[]}var o=e.approved?JSON.parse(e.approved):[];if(o&&o.length>0&&(g=!0),nt(A,P,o),o&&o.length>0){var a=document.getElementById("approx-total-amount"),i=0;o.forEach(function(e){e&&"number"==typeof e.amount&&(i+=e.amount)}),a.textContent="₹ ".concat(i.toFixed(2))}var c=document.getElementById("original-complaints-list"),s=document.getElementById("update-detail-complaint"),l=document.getElementById("original-complaints-display");c.innerHTML="",A.length>0?(s.textContent="".concat(A.length," issue(s) registered."),A.forEach(function(e){var t=document.createElement("li");t.textContent=e.text,t.classList.add("break-all"),c.appendChild(t)}),l.classList.remove("hidden")):(s.textContent="No complaints registered.",l.classList.add("hidden"));var u=document.getElementById("customer-feedback-display"),d=document.getElementById("customer-feedback-text-display"),f=document.getElementById("customer-feedback-audio-display");u.classList.add("hidden"),d.classList.add("hidden"),f.classList.add("hidden"),d.textContent="",f.innerHTML="",(e.customer_feedback_text||e.customer_feedback_audio)&&(u.classList.remove("hidden"),e.customer_feedback_text&&(d.textContent=e.customer_feedback_text,d.classList.remove("hidden")),e.customer_feedback_audio&&(f.innerHTML='<audio controls src="'.concat(e.customer_feedback_audio,'" class="w-full"></audio>'),f.classList.remove("hidden"))),document.getElementById("delivery-date").value=e.expected_delivery||"";var p=(new Date).toISOString().split("T")[0];document.getElementById("delivery-date").setAttribute("min",p);var m=document.getElementById("send-whatsapp-btn");e.approved&&"[]"!==e.approved?m.style.display="none":m.style.display="flex"}(t):(console.error("Report with ID ".concat(e," not found in store.")),$t("Could not load report details. Please try again."))},window.openMarksModal=function(e){var t="string"==typeof e?JSON.parse(e):e;document.getElementById("marks-modal").classList.remove("modal-hidden");var n=document.getElementById("modalCanvas"),r=document.getElementById("modalCarImage"),o=function(){n.width=r.clientWidth,n.height=r.clientHeight,Ut(n,t)};r.complete?o():r.onload=o},window.closeMarksModal=function(){document.getElementById("marks-modal").classList.add("modal-hidden")},window.printJobCardById=function(e){var t=L[e];t?function(e){var t;document.getElementById("print-report-date").textContent=new Date(e.created_at).toLocaleString(),document.getElementById("print-executive-name").textContent=(null===(t=e.executive)||void 0===t?void 0:t.username)||"N/A",document.getElementById("print-vehicle-no").textContent=e.vehicles.vehicle_no||"N/A",document.getElementById("print-vehicle-name").textContent="".concat(e.vehicles.vehicle_models.brand," ").concat(e.vehicles.vehicle_models.model),document.getElementById("print-engine-chassis").textContent="".concat(e.vehicles.engine_no||"N/A"," / ").concat(e.vehicles.chassis_no||"N/A"),document.getElementById("print-client-name").textContent=e.client_name||"N/A",document.getElementById("print-client-phone").textContent=e.client_phone||"N/A",document.getElementById("print-odometer").textContent=e.odometer_reading||"N/A";var n=function(e,t){var n=document.getElementById(e);n.innerHTML="";try{var r=JSON.parse(t||"[]");r&&r.length>0?r.forEach(function(e){var t=document.createElement("li");"object"===i(e)&&null!==e&&e.text?t.textContent=e.text:t.textContent=e,n.appendChild(t)}):n.innerHTML="<li>N/A</li>"}catch(e){n.innerHTML="<li>Error loading data</li>"}};n("print-complaints-list",e.complaint),n("print-suggested-list",e.suggested),n("print-approved-list",e.approved);var r=document.getElementById("print-car-image"),o=document.getElementById("print-damage-canvas"),a=e.marks?JSON.parse(e.marks):[],c=function(){var e=r.naturalWidth/r.naturalHeight,t=384/e,n=400/e;o.width=400,o.height=n;var i=400/384,c=n/t,s=a.map(function(e){return{x:e.x*i,y:e.y*c}});Ut(o,s),window.print()};r.complete?c():r.onload=c}(t):(console.error("Report data not found for ID: ".concat(e)),$t("Could not find report data to print."))},window.showCloseTab=he,window.updateJobStatus=function(e,t,n){return _t.apply(this,arguments)},window.openCancelModal=function(e,t){document.getElementById("cancel-modal-text").textContent="Are you sure you want to cancel the job for vehicle ".concat(t,"? This action cannot be undone."),document.getElementById("confirm-cancel-button").onclick=function(){return function(e,t){return Tt.apply(this,arguments)}(e,t)},Wt("cancel-confirmation-modal")},window.closeCancelModal=function(){document.getElementById("cancel-confirmation-input").value="",Gt("cancel-confirmation-modal")},window.cancelCompletion=function(){document.getElementById("complete-confirmation-input").value="",Gt("complete-confirmation-modal");var e=document.querySelector("#due-date-screen .tab-button.active-tab");e&&"tab-btn-complete"===e.id?he("complete"):he("wash-pending")},window.handleDateChange=function(e,t){var n=document.getElementById(e),r=document.getElementById(t);n.value&&(r.min=n.value),r.value&&(n.max=r.value)},window.undoLastMark=function(){F.length>0&&(F.pop(),Ut(k,F))},window.clearDamageCanvas=Ft,window.updateSetting=function(e,t){return ft.apply(this,arguments)},window.updateReportColumns=function(){return dt.apply(this,arguments)},window.filterSettings=function(){var e=document.getElementById("settings-search-input").value.toLowerCase();document.querySelectorAll(".setting-item").forEach(function(t){var n=t.dataset.searchText.includes(e);t.style.display=n?"block":"none"})},window.showQuickAccessModal=function(){return it.apply(this,arguments)},window.hideModal=Gt,window.completeWash=function(e){return fe.apply(this,arguments)},window.handleInspection=function(e,t,n){var r=document.getElementById("remarks-modal-title"),o=document.getElementById("remarks-modal-text"),a=document.getElementById("confirm-inspection-button"),i=document.getElementById("inspection-remarks-input"),c=document.querySelector('label[for="inspection-remarks-input"]');i.value="","inspection_approved"===t?(r.textContent="Approve Inspection",o.textContent="Confirm approval for vehicle ".concat(n,"."),c.innerHTML="Remarks (Optional):",a.className="px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white font-semibold"):(r.textContent="Reject Inspection",o.textContent="Confirm rejection for vehicle ".concat(n,"."),c.innerHTML="Remarks (Required for Rejection):",a.className="px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold"),a.onclick=function(){return function(e,t){return _e.apply(this,arguments)}(e,t)},Gt("inspector-details-modal"),Wt("inspection-remarks-modal")},window.showInspectionDetails=be,window.resendForInspection=function(e){return ke.apply(this,arguments)},window.handleDuplicateConfirmation=function(){return Ze.apply(this,arguments)},window.markCompletedDirectly=function(e,t){document.getElementById("complete-modal-text").textContent="Are you sure you want to close the job for vehicle ".concat(t," WITHOUT sending it for wash?"),document.getElementById("confirm-complete-button").onclick=function(){return St(e,t)},Wt("complete-confirmation-modal")},window.handleCheckboxChange=function(e){var t=function(){var e=[];document.querySelectorAll('#customer-approval-list input[type="checkbox"]:checked').forEach(function(t){try{e.push(JSON.parse(t.value))}catch(e){console.error("Error parsing checkbox value on change:",e)}}),nt(A,P,e)};if(g){Wt("change-confirmation-modal");var n=document.getElementById("confirm-change-button"),r=document.getElementById("cancel-change-button");n.onclick=function(){Gt("change-confirmation-modal"),t()},r.onclick=function(){e.checked=!e.checked,Gt("change-confirmation-modal")}}else t()},window.updateComplaintCost=function(e,t){var n=A.find(function(t){return t.text===e});n&&(n.amount=parseFloat(t)||0),tt()},window.addMaterialField=function(e){var t=e.replace(/\s+/g,"-"),n=document.getElementById("materials-container-".concat(t)),r=document.createElement("div");r.className="flex items-center gap-2",r.innerHTML='\n        <input type="text" class="form-input !py-1 !px-2 text-sm flex-1" \n               value=""\n               placeholder="e.g., Oil filter, 4L synthetic oil"\n               oninput="updateMaterialsFromInputs(\''.concat(e,'\')">\n        <button type="button" onclick="removeMaterialField(this, \'').concat(e,'\')" class="p-1 text-red-500 hover:text-red-700 shrink-0">\n            <span class="material-symbols-outlined text-sm">remove</span>\n        </button>\n    '),n.appendChild(r)},window.removeMaterialField=function(e,t){var n=e.parentElement;n.parentElement.children.length>1?(n.remove(),rt(t)):(n.querySelector("input").value="",rt(t))},window.updateMaterialsFromInputs=rt,window.executeAddSuggestion=Xe,window.updateCustomerTotal=et,window.checkOdometer=We,window.gapiLoaded=y,window.gisLoaded=b})();